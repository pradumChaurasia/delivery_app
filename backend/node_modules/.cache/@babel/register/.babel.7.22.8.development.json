{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"filename\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _mongodb = require(\"./db/mongodb.js\");\nvar _user = _interopRequireDefault(require(\"./router/user.js\"));\nvar _dealership = _interopRequireDefault(require(\"./router/dealership.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst app = (0, _express.default)();\napp.use((0, _express.json)());\n// app.use(userRouter)\n\nconst port = process.env.PORT || 8000;\n(0, _mongodb.connectToDatabase)().then(() => {\n  console.log('Connected to MongoDB');\n  return (0, _mongodb.insertFakeData)();\n}).then(() => {\n  console.log('Inserted fake data');\n  // Use the routers\n  app.use('/users', _user.default);\n  app.use('/dealerships', _dealership.default);\n\n  // Start the server\n  app.listen(port, () => {\n    console.log(`Server is running on port ${port}`);\n  });\n}).catch(error => {\n  console.error('Error connecting to MongoDB or inserting fake data:', error);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9tb25nb2RiIiwiX3VzZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2RlYWxlcnNoaXAiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImpzb24iLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJjb25uZWN0VG9EYXRhYmFzZSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiaW5zZXJ0RmFrZURhdGEiLCJ1c2VyUm91dGVyIiwiZGVhbGVyc2hpcFJvdXRlciIsImxpc3RlbiIsImNhdGNoIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTSFVcXGRlbGl2ZXJ5X2FwcFxcYmFja2VuZFxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyAse2pzb259IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQge01vbmdvQ2xpZW50LGNvbm5lY3Rpb25VUkwsZGJOYW1lfSBmcm9tICcuL2RiL21vbmdvZGIuanMnO1xyXG5pbXBvcnQgeyBjb25uZWN0VG9EYXRhYmFzZSwgaW5zZXJ0RmFrZURhdGEgfSBmcm9tICcuL2RiL21vbmdvZGIuanMnO1xyXG5pbXBvcnQgdXNlclJvdXRlciBmcm9tICcuL3JvdXRlci91c2VyLmpzJ1xyXG5pbXBvcnQgZGVhbGVyc2hpcFJvdXRlciBmcm9tICcuL3JvdXRlci9kZWFsZXJzaGlwLmpzJztcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShqc29uKCkpO1xyXG4vLyBhcHAudXNlKHVzZXJSb3V0ZXIpXHJcblxyXG5jb25zdCBwb3J0PXByb2Nlc3MuZW52LlBPUlQgfHwgODAwMDtcclxuY29ubmVjdFRvRGF0YWJhc2UoKVxyXG4gIC50aGVuKCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gTW9uZ29EQicpO1xyXG4gICAgcmV0dXJuIGluc2VydEZha2VEYXRhKCk7XHJcbiAgfSlcclxuICAudGhlbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnSW5zZXJ0ZWQgZmFrZSBkYXRhJyk7XHJcbiAgICAvLyBVc2UgdGhlIHJvdXRlcnNcclxuICAgIGFwcC51c2UoJy91c2VycycsIHVzZXJSb3V0ZXIpO1xyXG4gICAgYXBwLnVzZSgnL2RlYWxlcnNoaXBzJywgZGVhbGVyc2hpcFJvdXRlcik7XHJcblxyXG4gICAgLy8gU3RhcnQgdGhlIHNlcnZlclxyXG4gICAgYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0ICR7cG9ydH1gKTtcclxuICAgIH0pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBNb25nb0RCIG9yIGluc2VydGluZyBmYWtlIGRhdGE6JywgZXJyb3IpO1xyXG4gIH0pO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUQsc0JB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","map":{"version":3,"names":["_express","_interopRequireWildcard","require","_mongodb","_user","_interopRequireDefault","_dealership","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","app","express","use","json","port","process","env","PORT","connectToDatabase","then","console","log","insertFakeData","userRouter","dealershipRouter","listen","catch","error"],"sourceRoot":"C:\\Users\\RISHU\\delivery_app\\backend\\","sources":["index.js"],"sourcesContent":["import express ,{json} from 'express';\r\nimport {MongoClient,connectionURL,dbName} from './db/mongodb.js';\r\nimport { connectToDatabase, insertFakeData } from './db/mongodb.js';\r\nimport userRouter from './router/user.js'\r\nimport dealershipRouter from './router/dealership.js';\r\nconst app = express();\r\n\r\napp.use(json());\r\n// app.use(userRouter)\r\n\r\nconst port=process.env.PORT || 8000;\r\nconnectToDatabase()\r\n  .then(() => {\r\n    console.log('Connected to MongoDB');\r\n    return insertFakeData();\r\n  })\r\n  .then(() => {\r\n    console.log('Inserted fake data');\r\n    // Use the routers\r\n    app.use('/users', userRouter);\r\n    app.use('/dealerships', dealershipRouter);\r\n\r\n    // Start the server\r\n    app.listen(port, () => {\r\n      console.log(`Server is running on port ${port}`);\r\n    });\r\n  })\r\n  .catch((error) => {\r\n    console.error('Error connecting to MongoDB or inserting fake data:', error);\r\n  });\r\n\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAEA,IAAAE,KAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,WAAA,GAAAD,sBAAA,CAAAH,OAAA;AAAsD,SAAAG,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAV,wBAAAM,GAAA,EAAAI,WAAA,SAAAA,WAAA,IAAAJ,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAQ,KAAA,GAAAL,wBAAA,CAAAC,WAAA,OAAAI,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,CAAAT,OAAA,GAAAF,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AACtD,MAAMW,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AACf;;AAEA,MAAMC,IAAI,GAACC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI;AACnC,IAAAC,0BAAiB,EAAC,CAAC,CAChBC,IAAI,CAAC,MAAM;EACVC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;EACnC,OAAO,IAAAC,uBAAc,EAAC,CAAC;AACzB,CAAC,CAAC,CACDH,IAAI,CAAC,MAAM;EACVC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;EACjC;EACAX,GAAG,CAACE,GAAG,CAAC,QAAQ,EAAEW,aAAU,CAAC;EAC7Bb,GAAG,CAACE,GAAG,CAAC,cAAc,EAAEY,mBAAgB,CAAC;;EAEzC;EACAd,GAAG,CAACe,MAAM,CAACX,IAAI,EAAE,MAAM;IACrBM,OAAO,CAACC,GAAG,CAAE,6BAA4BP,IAAK,EAAC,CAAC;EAClD,CAAC,CAAC;AACJ,CAAC,CAAC,CACDY,KAAK,CAAEC,KAAK,IAAK;EAChBP,OAAO,CAACO,KAAK,CAAC,qDAAqD,EAAEA,KAAK,CAAC;AAC7E,CAAC,CAAC"}},"mtime":1689003888253},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\db\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"filename\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\db\\\\mongodb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"MongoClient\", {\n  enumerable: true,\n  get: function () {\n    return _mongodb.MongoClient;\n  }\n});\nexports.connectToDatabase = connectToDatabase;\nexports.insertFakeData = insertFakeData;\nvar _mongodb = require(\"mongodb\");\nvar _faker = require(\"@faker-js/faker\");\n// h3eQe3OufvwU2xLl\nconst connectionURL = 'mongodb+srv://pradum19441:h3eQe3OufvwU2xLl@cluster0.rvorudf.mongodb.net/?retryWrites=true&w=majority';\n// const connectionURL='mongodb://127.0.0.1:27017'\nconst dbName = 'delivery-app';\n// const client = new MongoClient(connectionURL);\n\nasync function connectToDatabase() {\n  try {\n    const client = await _mongodb.MongoClient.connect(connectionURL, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    const db = client.db(dbName);\n    console.log('Connected to MongoDB');\n    return db;\n  } catch (error) {\n    console.error('Error connecting to MongoDB:', error);\n    throw error;\n  }\n}\n\n// Function to insert fake data into the collections\nasync function insertFakeData() {\n  try {\n    const db = await connectToDatabase();\n    const collection = db.collection('users');\n    const carsCollection = db.collection('cars');\n    const dealershipCollection = db.collection('dealership');\n    const dealCollection = db.collection('deals');\n    const soldVehiclesCollection = db.collection('sold_vehicles');\n    let numCars = 5;\n    const carData = [];\n    for (let i = 0; i < numCars; i++) {\n      const car = {\n        type: _faker.faker.vehicle.type(),\n        name: _faker.faker.vehicle.manufacturer(),\n        model: _faker.faker.vehicle.model(),\n        car_info: {}\n      };\n      carData.push(car);\n    }\n    await carsCollection.insertMany(carData);\n    console.log('Car documents inserted successfully');\n    const dealershipModel = {\n      dealership_email: _faker.faker.internet.email(),\n      dealership_name: _faker.faker.internet.userName(),\n      dealership_location: _faker.faker.location.city(),\n      password: _faker.faker.internet.password(),\n      dealership_info: _faker.faker.lorem.sentences(),\n      cars: [],\n      deals: [],\n      sold_vehicles: []\n    };\n    const cars = await carsCollection.find().toArray();\n    const carIds = cars.map(car => car._id);\n    dealershipModel.cars = carIds;\n    let numDeals = 3;\n    const dealModels = [];\n    for (let i = 0; i < numDeals; i++) {\n      const dealModel = {\n        car_id: carIds,\n        deal_info: _faker.faker.lorem.sentences()\n      };\n      dealModels.push(dealModel);\n    }\n    const dealResult = await dealCollection.insertMany(dealModels);\n    console.log('Deal documents inserted successfully');\n    const dealIds = dealResult.insertedIds;\n    dealershipModel.deals.push(dealIds);\n    let numSoldVehicles = 1;\n    const soldVehiclesModels = [];\n    for (let i = 0; i < numSoldVehicles; i++) {\n      const soldVehiclesModel = {\n        car_id: carIds,\n        vehicle_info: {}\n      };\n      soldVehiclesModels.push(soldVehiclesModel);\n    }\n    const soldVehiclesResult = await soldVehiclesCollection.insertMany(soldVehiclesModels);\n    console.log('Sold vehicle documents inserted successfully');\n    const soldVehicleIds = soldVehiclesResult.insertedIds;\n    dealershipModel.sold_vehicles = soldVehicleIds;\n    await dealershipCollection.insertOne(dealershipModel);\n    console.log('DealerShip document inserted successfully');\n    let numUsers = 10;\n    const userModels = [];\n    for (let i = 0; i < numUsers; i++) {\n      const userModel = {\n        user_email: _faker.faker.internet.email(),\n        user_location: _faker.faker.location.city(),\n        user_info: _faker.faker.lorem.sentences(),\n        password: _faker.faker.internet.password(),\n        vehicle_info: soldVehicleIds\n      };\n      if (userModel.password.toLowerCase().includes('password')) {\n        throw new Error('Password is not allowed');\n      }\n      userModels.push(userModel);\n    }\n    await collection.insertMany(userModels);\n    console.log('UserDocuments inserted successfully');\n  } catch (error) {\n    console.error('Error inserting fake data:', error);\n    throw error;\n  }\n}\n\n// Export the MongoClient\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29kYiIsInJlcXVpcmUiLCJfZmFrZXIiLCJjb25uZWN0aW9uVVJMIiwiZGJOYW1lIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJjbGllbnQiLCJNb25nb0NsaWVudCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJkYiIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImluc2VydEZha2VEYXRhIiwiY29sbGVjdGlvbiIsImNhcnNDb2xsZWN0aW9uIiwiZGVhbGVyc2hpcENvbGxlY3Rpb24iLCJkZWFsQ29sbGVjdGlvbiIsInNvbGRWZWhpY2xlc0NvbGxlY3Rpb24iLCJudW1DYXJzIiwiY2FyRGF0YSIsImkiLCJjYXIiLCJ0eXBlIiwiZmFrZXIiLCJ2ZWhpY2xlIiwibmFtZSIsIm1hbnVmYWN0dXJlciIsIm1vZGVsIiwiY2FyX2luZm8iLCJwdXNoIiwiaW5zZXJ0TWFueSIsImRlYWxlcnNoaXBNb2RlbCIsImRlYWxlcnNoaXBfZW1haWwiLCJpbnRlcm5ldCIsImVtYWlsIiwiZGVhbGVyc2hpcF9uYW1lIiwidXNlck5hbWUiLCJkZWFsZXJzaGlwX2xvY2F0aW9uIiwibG9jYXRpb24iLCJjaXR5IiwicGFzc3dvcmQiLCJkZWFsZXJzaGlwX2luZm8iLCJsb3JlbSIsInNlbnRlbmNlcyIsImNhcnMiLCJkZWFscyIsInNvbGRfdmVoaWNsZXMiLCJmaW5kIiwidG9BcnJheSIsImNhcklkcyIsIm1hcCIsIl9pZCIsIm51bURlYWxzIiwiZGVhbE1vZGVscyIsImRlYWxNb2RlbCIsImNhcl9pZCIsImRlYWxfaW5mbyIsImRlYWxSZXN1bHQiLCJkZWFsSWRzIiwiaW5zZXJ0ZWRJZHMiLCJudW1Tb2xkVmVoaWNsZXMiLCJzb2xkVmVoaWNsZXNNb2RlbHMiLCJzb2xkVmVoaWNsZXNNb2RlbCIsInZlaGljbGVfaW5mbyIsInNvbGRWZWhpY2xlc1Jlc3VsdCIsInNvbGRWZWhpY2xlSWRzIiwiaW5zZXJ0T25lIiwibnVtVXNlcnMiLCJ1c2VyTW9kZWxzIiwidXNlck1vZGVsIiwidXNlcl9lbWFpbCIsInVzZXJfbG9jYXRpb24iLCJ1c2VyX2luZm8iLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTSFVcXGRlbGl2ZXJ5X2FwcFxcYmFja2VuZFxcZGJcXCIsInNvdXJjZXMiOlsibW9uZ29kYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCwgT2JqZWN0SUQgfSBmcm9tICdtb25nb2RiJztcclxuaW1wb3J0IHsgZmFrZXIgfSBmcm9tICdAZmFrZXItanMvZmFrZXInO1xyXG5cclxuLy8gaDNlUWUzT3VmdndVMnhMbFxyXG5jb25zdCBjb25uZWN0aW9uVVJMID0gJ21vbmdvZGIrc3J2Oi8vcHJhZHVtMTk0NDE6aDNlUWUzT3VmdndVMnhMbEBjbHVzdGVyMC5ydm9ydWRmLm1vbmdvZGIubmV0Lz9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHknXHJcbi8vIGNvbnN0IGNvbm5lY3Rpb25VUkw9J21vbmdvZGI6Ly8xMjcuMC4wLjE6MjcwMTcnXHJcbmNvbnN0IGRiTmFtZSA9ICdkZWxpdmVyeS1hcHAnXHJcbi8vIGNvbnN0IGNsaWVudCA9IG5ldyBNb25nb0NsaWVudChjb25uZWN0aW9uVVJMKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IE1vbmdvQ2xpZW50LmNvbm5lY3QoY29ubmVjdGlvblVSTCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KTtcclxuICAgICAgY29uc3QgZGIgPSBjbGllbnQuZGIoZGJOYW1lKTtcclxuICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJyk7XHJcbiAgICAgIHJldHVybiBkYjtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gTW9uZ29EQjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBGdW5jdGlvbiB0byBpbnNlcnQgZmFrZSBkYXRhIGludG8gdGhlIGNvbGxlY3Rpb25zXHJcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydEZha2VEYXRhKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xyXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb249ZGIuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICBjb25zdCBjYXJzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2NhcnMnKTtcclxuICAgICAgY29uc3QgZGVhbGVyc2hpcENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdkZWFsZXJzaGlwJyk7XHJcbiAgICAgIGNvbnN0IGRlYWxDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZGVhbHMnKTtcclxuICAgICAgY29uc3Qgc29sZFZlaGljbGVzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ3NvbGRfdmVoaWNsZXMnKTtcclxuICBcclxuICAgICAgbGV0IG51bUNhcnMgPSA1O1xyXG4gICAgICBjb25zdCBjYXJEYXRhID0gW107XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ2FyczsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2FyID0ge1xyXG4gICAgICAgICAgdHlwZTogZmFrZXIudmVoaWNsZS50eXBlKCksXHJcbiAgICAgICAgICBuYW1lOiBmYWtlci52ZWhpY2xlLm1hbnVmYWN0dXJlcigpLFxyXG4gICAgICAgICAgbW9kZWw6IGZha2VyLnZlaGljbGUubW9kZWwoKSxcclxuICAgICAgICAgIGNhcl9pbmZvOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNhckRhdGEucHVzaChjYXIpO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIGF3YWl0IGNhcnNDb2xsZWN0aW9uLmluc2VydE1hbnkoY2FyRGF0YSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYXIgZG9jdW1lbnRzIGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gIFxyXG4gICAgICBjb25zdCBkZWFsZXJzaGlwTW9kZWwgPSB7XHJcbiAgICAgICAgZGVhbGVyc2hpcF9lbWFpbDogZmFrZXIuaW50ZXJuZXQuZW1haWwoKSxcclxuICAgICAgICBkZWFsZXJzaGlwX25hbWU6IGZha2VyLmludGVybmV0LnVzZXJOYW1lKCksXHJcbiAgICAgICAgZGVhbGVyc2hpcF9sb2NhdGlvbjogZmFrZXIubG9jYXRpb24uY2l0eSgpLFxyXG4gICAgICAgIHBhc3N3b3JkOiBmYWtlci5pbnRlcm5ldC5wYXNzd29yZCgpLFxyXG4gICAgICAgIGRlYWxlcnNoaXBfaW5mbzogZmFrZXIubG9yZW0uc2VudGVuY2VzKCksXHJcbiAgICAgICAgY2FyczogW10sXHJcbiAgICAgICAgZGVhbHM6IFtdLFxyXG4gICAgICAgIHNvbGRfdmVoaWNsZXM6IFtdLFxyXG4gICAgICB9O1xyXG4gIFxyXG4gICAgICBjb25zdCBjYXJzID0gYXdhaXQgY2Fyc0NvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcclxuICAgICAgY29uc3QgY2FySWRzID0gY2Fycy5tYXAoKGNhcikgPT4gY2FyLl9pZCk7XHJcbiAgICAgIGRlYWxlcnNoaXBNb2RlbC5jYXJzID0gY2FySWRzO1xyXG4gIFxyXG4gICAgICBsZXQgbnVtRGVhbHMgPSAzO1xyXG4gICAgICBjb25zdCBkZWFsTW9kZWxzID0gW107XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRGVhbHM7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGRlYWxNb2RlbCA9IHtcclxuICAgICAgICAgIGNhcl9pZDogY2FySWRzLFxyXG4gICAgICAgICAgZGVhbF9pbmZvOiBmYWtlci5sb3JlbS5zZW50ZW5jZXMoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRlYWxNb2RlbHMucHVzaChkZWFsTW9kZWwpO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIGNvbnN0IGRlYWxSZXN1bHQgPSBhd2FpdCBkZWFsQ29sbGVjdGlvbi5pbnNlcnRNYW55KGRlYWxNb2RlbHMpO1xyXG4gICAgICBjb25zb2xlLmxvZygnRGVhbCBkb2N1bWVudHMgaW5zZXJ0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIGNvbnN0IGRlYWxJZHMgPSBkZWFsUmVzdWx0Lmluc2VydGVkSWRzO1xyXG4gICAgICBkZWFsZXJzaGlwTW9kZWwuZGVhbHMucHVzaChkZWFsSWRzKTtcclxuICBcclxuICAgICAgbGV0IG51bVNvbGRWZWhpY2xlcyA9IDE7XHJcbiAgICAgIGNvbnN0IHNvbGRWZWhpY2xlc01vZGVscyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNvbGRWZWhpY2xlczsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc29sZFZlaGljbGVzTW9kZWwgPSB7XHJcbiAgICAgICAgICBjYXJfaWQ6IGNhcklkcyxcclxuICAgICAgICAgIHZlaGljbGVfaW5mbzoge30sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzb2xkVmVoaWNsZXNNb2RlbHMucHVzaChzb2xkVmVoaWNsZXNNb2RlbCk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgY29uc3Qgc29sZFZlaGljbGVzUmVzdWx0ID0gYXdhaXQgc29sZFZlaGljbGVzQ29sbGVjdGlvbi5pbnNlcnRNYW55KHNvbGRWZWhpY2xlc01vZGVscyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTb2xkIHZlaGljbGUgZG9jdW1lbnRzIGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICBjb25zdCBzb2xkVmVoaWNsZUlkcyA9IHNvbGRWZWhpY2xlc1Jlc3VsdC5pbnNlcnRlZElkcztcclxuICAgICAgZGVhbGVyc2hpcE1vZGVsLnNvbGRfdmVoaWNsZXMgPSBzb2xkVmVoaWNsZUlkcztcclxuICBcclxuICAgICAgYXdhaXQgZGVhbGVyc2hpcENvbGxlY3Rpb24uaW5zZXJ0T25lKGRlYWxlcnNoaXBNb2RlbCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdEZWFsZXJTaGlwIGRvY3VtZW50IGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gIFxyXG4gICAgICBsZXQgbnVtVXNlcnMgPSAxMDtcclxuICAgICAgY29uc3QgdXNlck1vZGVscyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVVzZXJzOyBpKyspIHtcclxuICAgICAgICBjb25zdCB1c2VyTW9kZWwgPSB7XHJcbiAgICAgICAgICB1c2VyX2VtYWlsOiBmYWtlci5pbnRlcm5ldC5lbWFpbCgpLFxyXG4gICAgICAgICAgdXNlcl9sb2NhdGlvbjogZmFrZXIubG9jYXRpb24uY2l0eSgpLFxyXG4gICAgICAgICAgdXNlcl9pbmZvOiBmYWtlci5sb3JlbS5zZW50ZW5jZXMoKSxcclxuICAgICAgICAgIHBhc3N3b3JkOiBmYWtlci5pbnRlcm5ldC5wYXNzd29yZCgpLFxyXG4gICAgICAgICAgdmVoaWNsZV9pbmZvOiBzb2xkVmVoaWNsZUlkcyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh1c2VyTW9kZWwucGFzc3dvcmQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncGFzc3dvcmQnKSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXNzd29yZCBpcyBub3QgYWxsb3dlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VyTW9kZWxzLnB1c2godXNlck1vZGVsKTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE1hbnkodXNlck1vZGVscyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyRG9jdW1lbnRzIGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5zZXJ0aW5nIGZha2UgZGF0YTonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuXHJcblxyXG4gIC8vIEV4cG9ydCB0aGUgTW9uZ29DbGllbnRcclxuICBleHBvcnQgeyBNb25nb0NsaWVudCB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFFQTtBQUNBLE1BQU1FLGFBQWEsR0FBRyxzR0FBc0c7QUFDNUg7QUFDQSxNQUFNQyxNQUFNLEdBQUcsY0FBYztBQUM3Qjs7QUFFTyxlQUFlQyxpQkFBaUJBLENBQUEsRUFBRztFQUN0QyxJQUFJO0lBQ0YsTUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFXLENBQUNDLE9BQU8sQ0FBQ0wsYUFBYSxFQUFFO01BQUVNLGVBQWUsRUFBRSxJQUFJO01BQUVDLGtCQUFrQixFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQzVHLE1BQU1DLEVBQUUsR0FBR0wsTUFBTSxDQUFDSyxFQUFFLENBQUNQLE1BQU0sQ0FBQztJQUM1QlEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7SUFDbkMsT0FBT0YsRUFBRTtFQUNYLENBQUMsQ0FBQyxPQUFPRyxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDRSxLQUFLLENBQUMsOEJBQThCLEVBQUVBLEtBQUssQ0FBQztJQUNwRCxNQUFNQSxLQUFLO0VBQ2I7QUFDRjs7QUFFQTtBQUNPLGVBQWVDLGNBQWNBLENBQUEsRUFBRztFQUNyQyxJQUFJO0lBQ0YsTUFBTUosRUFBRSxHQUFHLE1BQU1OLGlCQUFpQixDQUFDLENBQUM7SUFDbEMsTUFBTVcsVUFBVSxHQUFDTCxFQUFFLENBQUNLLFVBQVUsQ0FBQyxPQUFPLENBQUM7SUFDekMsTUFBTUMsY0FBYyxHQUFHTixFQUFFLENBQUNLLFVBQVUsQ0FBQyxNQUFNLENBQUM7SUFDNUMsTUFBTUUsb0JB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","map":{"version":3,"names":["_mongodb","require","_faker","connectionURL","dbName","connectToDatabase","client","MongoClient","connect","useNewUrlParser","useUnifiedTopology","db","console","log","error","insertFakeData","collection","carsCollection","dealershipCollection","dealCollection","soldVehiclesCollection","numCars","carData","i","car","type","faker","vehicle","name","manufacturer","model","car_info","push","insertMany","dealershipModel","dealership_email","internet","email","dealership_name","userName","dealership_location","location","city","password","dealership_info","lorem","sentences","cars","deals","sold_vehicles","find","toArray","carIds","map","_id","numDeals","dealModels","dealModel","car_id","deal_info","dealResult","dealIds","insertedIds","numSoldVehicles","soldVehiclesModels","soldVehiclesModel","vehicle_info","soldVehiclesResult","soldVehicleIds","insertOne","numUsers","userModels","userModel","user_email","user_location","user_info","toLowerCase","includes","Error"],"sourceRoot":"C:\\Users\\RISHU\\delivery_app\\backend\\db\\","sources":["mongodb.js"],"sourcesContent":["import { MongoClient, ObjectID } from 'mongodb';\r\nimport { faker } from '@faker-js/faker';\r\n\r\n// h3eQe3OufvwU2xLl\r\nconst connectionURL = 'mongodb+srv://pradum19441:h3eQe3OufvwU2xLl@cluster0.rvorudf.mongodb.net/?retryWrites=true&w=majority'\r\n// const connectionURL='mongodb://127.0.0.1:27017'\r\nconst dbName = 'delivery-app'\r\n// const client = new MongoClient(connectionURL);\r\n\r\nexport async function connectToDatabase() {\r\n    try {\r\n      const client = await MongoClient.connect(connectionURL, { useNewUrlParser: true, useUnifiedTopology: true });\r\n      const db = client.db(dbName);\r\n      console.log('Connected to MongoDB');\r\n      return db;\r\n    } catch (error) {\r\n      console.error('Error connecting to MongoDB:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  // Function to insert fake data into the collections\r\n  export async function insertFakeData() {\r\n    try {\r\n      const db = await connectToDatabase();\r\n        const collection=db.collection('users')\r\n      const carsCollection = db.collection('cars');\r\n      const dealershipCollection = db.collection('dealership');\r\n      const dealCollection = db.collection('deals');\r\n      const soldVehiclesCollection = db.collection('sold_vehicles');\r\n  \r\n      let numCars = 5;\r\n      const carData = [];\r\n      for (let i = 0; i < numCars; i++) {\r\n        const car = {\r\n          type: faker.vehicle.type(),\r\n          name: faker.vehicle.manufacturer(),\r\n          model: faker.vehicle.model(),\r\n          car_info: {},\r\n        };\r\n        carData.push(car);\r\n      }\r\n  \r\n      await carsCollection.insertMany(carData);\r\n      console.log('Car documents inserted successfully');\r\n  \r\n      const dealershipModel = {\r\n        dealership_email: faker.internet.email(),\r\n        dealership_name: faker.internet.userName(),\r\n        dealership_location: faker.location.city(),\r\n        password: faker.internet.password(),\r\n        dealership_info: faker.lorem.sentences(),\r\n        cars: [],\r\n        deals: [],\r\n        sold_vehicles: [],\r\n      };\r\n  \r\n      const cars = await carsCollection.find().toArray();\r\n      const carIds = cars.map((car) => car._id);\r\n      dealershipModel.cars = carIds;\r\n  \r\n      let numDeals = 3;\r\n      const dealModels = [];\r\n      for (let i = 0; i < numDeals; i++) {\r\n        const dealModel = {\r\n          car_id: carIds,\r\n          deal_info: faker.lorem.sentences(),\r\n        };\r\n        dealModels.push(dealModel);\r\n      }\r\n  \r\n      const dealResult = await dealCollection.insertMany(dealModels);\r\n      console.log('Deal documents inserted successfully');\r\n      const dealIds = dealResult.insertedIds;\r\n      dealershipModel.deals.push(dealIds);\r\n  \r\n      let numSoldVehicles = 1;\r\n      const soldVehiclesModels = [];\r\n      for (let i = 0; i < numSoldVehicles; i++) {\r\n        const soldVehiclesModel = {\r\n          car_id: carIds,\r\n          vehicle_info: {},\r\n        };\r\n        soldVehiclesModels.push(soldVehiclesModel);\r\n      }\r\n  \r\n      const soldVehiclesResult = await soldVehiclesCollection.insertMany(soldVehiclesModels);\r\n      console.log('Sold vehicle documents inserted successfully');\r\n      const soldVehicleIds = soldVehiclesResult.insertedIds;\r\n      dealershipModel.sold_vehicles = soldVehicleIds;\r\n  \r\n      await dealershipCollection.insertOne(dealershipModel);\r\n      console.log('DealerShip document inserted successfully');\r\n  \r\n      let numUsers = 10;\r\n      const userModels = [];\r\n      for (let i = 0; i < numUsers; i++) {\r\n        const userModel = {\r\n          user_email: faker.internet.email(),\r\n          user_location: faker.location.city(),\r\n          user_info: faker.lorem.sentences(),\r\n          password: faker.internet.password(),\r\n          vehicle_info: soldVehicleIds,\r\n        };\r\n        if (userModel.password.toLowerCase().includes('password')) {\r\n          throw new Error('Password is not allowed');\r\n        }\r\n        userModels.push(userModel);\r\n      }\r\n  \r\n      await collection.insertMany(userModels);\r\n      console.log('UserDocuments inserted successfully');\r\n    } catch (error) {\r\n      console.error('Error inserting fake data:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n\r\n\r\n  // Export the MongoClient\r\n  export { MongoClient };\r\n"],"mappings":"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"}},"mtime":1689003793379},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"filename\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\router\\\\user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _mongodb = require(\"../db/mongodb\");\nvar _bson = require(\"bson\");\nvar _faker = require(\"@faker-js/faker\");\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _config = require(\"../config.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst userRouter = new _express.Router();\nuserRouter.post('/registerUser', (req, res) => {\n  const {\n    user_email,\n    password,\n    vehicleId\n  } = req.body;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const userCollection = db.collection('users');\n    return userCollection.findOne({\n      user_email\n    }).then(user => {\n      if (user) {\n        return res.status(400).json({\n          error: 'User already exists'\n        });\n      }\n      return _bcrypt.default.hash(password, 10).then(hashedPassword => {\n        const newUser = {\n          user_email: user_email,\n          user_location: _faker.faker.location.city(),\n          user_info: _faker.faker.lorem.sentences(),\n          password: hashedPassword,\n          vehicle_info: vehicleId\n        };\n        return userCollection.insertOne(newUser).then(() => {\n          res.status(201).json({\n            message: 'User registered successfully'\n          });\n        });\n      });\n    });\n  }).catch(error => {\n    console.error('Error registering user:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\nuserRouter.get('/user/login', (req, res) => {\n  const {\n    user_email,\n    password\n  } = req.body;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const usersCollection = db.collection('users');\n\n    // Find the user by email\n    return usersCollection.findOne({\n      user_email\n    }).then(user => {\n      if (!user) {\n        throw new Error('Invalid credentials');\n      }\n      return _bcrypt.default.compare(password, user.password).then(isvalidPassword => {\n        if (!isvalidPassword) {\n          throw new Error('Invalid credentials');\n        }\n        const token = _jsonwebtoken.default.sign({\n          userId: user._id\n        }, _config.jwtSecret, {\n          expiresIn: _config.jwtExpiration\n        });\n        res.json({\n          token\n        });\n      });\n    }).catch(error => {\n      console.log('Error logging in user:', error);\n      res.status(401).json({\n        error: 'Invalid credentials'\n      });\n    });\n  }).catch(error => {\n    console.error('Error connecting to database:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\nuserRouter.get('/cars', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const carsCollection = db.collection('cars');\n    return carsCollection.find().toArray();\n  }).then(cars => {\n    res.json(cars);\n  }).catch(e => {\n    console.log('Error in retrieving cars', e);\n    res.status(500).json({\n      e: 'Internal Server Error'\n    });\n  });\n});\nuserRouter.get('/dealerships/:dealershipId/cars', (req, res) => {\n  const {\n    dealershipId\n  } = req.params;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealershipCollection = db.collection('dealership');\n    return dealershipCollection.findOne({\n      _id: new _bson.ObjectId(dealershipId)\n    }).then(dealership => {\n      if (!dealership) {\n        return res.status(404).json({\n          error: 'Dealership not found'\n        });\n      }\n      const carsCollection = db.collection('cars');\n      const carIds = dealership.cars.map(carId => new _bson.ObjectId(carId));\n      return carsCollection.find({\n        _id: {\n          $in: carIds\n        }\n      }).toArray();\n    }).then(cars => {\n      res.json(cars);\n    }).catch(error => {\n      console.error('Error retrieving cars in dealership:', error);\n      res.status(500).json({\n        error: 'Internal server error'\n      });\n    });\n  }).catch(error => {\n    console.error('Error connecting to the database:', error);\n    res.status(500).json({\n      error: 'Internal server error'\n    });\n  });\n});\n//  view dealership with certain car\nuserRouter.get('/cars/:carId/dealership', (req, res) => {\n  const {\n    carId\n  } = req.params;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealershipCollection = db.collection('dealership');\n    return dealershipCollection.find({\n      cars: new _bson.ObjectId(carId)\n    }).toArray();\n  }).then(dealerships => {\n    res.json(dealerships);\n  }).catch(error => {\n    console.error('Error retrieving dealerships with car:', error);\n    res.status(500).json({\n      error: 'Internal server error'\n    });\n  });\n});\nuserRouter.get('/users/:userId/vehicles', (req, res) => {\n  const {\n    userId\n  } = req.params;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const userCollection = db.collection('users');\n    return userCollection.findOne({\n      _id: new _bson.ObjectId(userId)\n    }).then(user => {\n      if (!user) {\n        return Promise.reject({\n          status: 404,\n          message: 'User not found'\n        });\n      }\n      const soldVehiclesCollection = db.collection('sold_vehicles');\n      const vehicleInfoArray = Array.isArray(user.vehicle_info) ? user.vehicle_info : [user.vehicle_info];\n      return soldVehiclesCollection.find({\n        _id: {\n          $in: vehicleInfoArray\n        }\n      }).toArray();\n    }).then(vehicles => {\n      res.json(vehicles);\n    }).catch(error => {\n      console.error('Error retrieving user vehicles:', error);\n      res.status(500).json({\n        error: 'Internal server error'\n      });\n    });\n  }).catch(error => {\n    console.error('Error connecting to the database:', error);\n    res.status(500).json({\n      error: 'Internal server error'\n    });\n  });\n});\nuserRouter.get('/cars/:carId/deals', (req, res) => {\n  const {\n    carId\n  } = req.params;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealCollection = db.collection('deals');\n    return dealCollection.find({\n      car_id: new _bson.ObjectId(carId)\n    }).toArray();\n  }).then(deals => {\n    res.json(deals);\n  }).catch(error => {\n    console.error('Error retrieving deals on car:', error);\n    res.status(500).json({\n      error: 'Internal server error'\n    });\n  });\n});\n\n// Endpoint to view all deals from a certain dealership\nuserRouter.get('/dealerships/:dealershipId/deals', (req, res) => {\n  const {\n    dealershipId\n  } = req.params;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealershipCollection = db.collection('dealership');\n    return dealershipCollection.findOne({\n      _id: new _bson.ObjectId(dealershipId)\n    }).then(dealership => {\n      if (!dealership) {\n        return Promise.reject({\n          status: 404,\n          message: 'Dealership not found'\n        });\n      }\n      // const dealCollection = db.collection('deals');\n      // return dealCollection.find({ _id: { $in: dealership.deals } }).toArray();\n      const dealCollection = db.collection('deals');\n      const dealIds = Object.values(dealership.deals[0]);\n      return dealCollection.find({\n        _id: {\n          $in: dealIds\n        }\n      }).toArray();\n    }).then(deals => {\n      res.json(deals);\n    }).catch(error => {\n      console.error('Error retrieving dealership deals:', error);\n      res.status(500).json({\n        error: 'Internal server error'\n      });\n    });\n  }).catch(error => {\n    console.error('Error connecting to the database:', error);\n    res.status(500).json({\n      error: 'Internal server error'\n    });\n  });\n});\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9tb25nb2RiIiwiX2Jzb24iLCJfZmFrZXIiLCJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9qc29ud2VidG9rZW4iLCJfY29uZmlnIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsInVzZXJSb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwidXNlcl9lbWFpbCIsInBhc3N3b3JkIiwidmVoaWNsZUlkIiwiYm9keSIsImNvbm5lY3RUb0RhdGFiYXNlIiwidGhlbiIsImRiIiwidXNlckNvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInVzZXIiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJiY3J5cHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdVc2VyIiwidXNlcl9sb2NhdGlvbiIsImZha2VyIiwibG9jYXRpb24iLCJjaXR5IiwidXNlcl9pbmZvIiwibG9yZW0iLCJzZW50ZW5jZXMiLCJ2ZWhpY2xlX2luZm8iLCJpbnNlcnRPbmUiLCJtZXNzYWdlIiwiY2F0Y2giLCJjb25zb2xlIiwidXNlcnNDb2xsZWN0aW9uIiwiRXJyb3IiLCJjb21wYXJlIiwiaXN2YWxpZFBhc3N3b3JkIiwidG9rZW4iLCJqd3QiLCJzaWduIiwidXNlcklkIiwiX2lkIiwiand0U2VjcmV0IiwiZXhwaXJlc0luIiwiand0RXhwaXJhdGlvbiIsImxvZyIsImNhcnNDb2xsZWN0aW9uIiwiZmluZCIsInRvQXJyYXkiLCJjYXJzIiwiZSIsImRlYWxlcnNoaXBJZCIsInBhcmFtcyIsImRlYWxlcnNoaXBDb2xsZWN0aW9uIiwiT2JqZWN0SWQiLCJkZWFsZXJzaGlwIiwiY2FySWRzIiwibWFwIiwiY2FySWQiLCIkaW4iLCJkZWFsZXJzaGlwcyIsIlByb21pc2UiLCJyZWplY3QiLCJzb2xkVmVoaWNsZXNDb2xsZWN0aW9uIiwidmVoaWNsZUluZm9BcnJheSIsIkFycmF5IiwiaXNBcnJheSIsInZlaGljbGVzIiwiZGVhbENvbGxlY3Rpb24iLCJjYXJfaWQiLCJkZWFscyIsImRlYWxJZHMiLCJ2YWx1ZXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTSFVcXGRlbGl2ZXJ5X2FwcFxcYmFja2VuZFxccm91dGVyXFwiLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MsIHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IGNvbm5lY3RUb0RhdGFiYXNlIH0gZnJvbSAnLi4vZGIvbW9uZ29kYic7XHJcbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSAnYnNvbic7XHJcbmltcG9ydCB7IGZha2VyIH0gZnJvbSAnQGZha2VyLWpzL2Zha2VyJztcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGp3dFNlY3JldCwgand0RXhwaXJhdGlvbiB9IGZyb20gJy4uL2NvbmZpZy5qcyc7XHJcbmNvbnN0IHVzZXJSb3V0ZXIgPSBuZXcgUm91dGVyKCk7XHJcblxyXG5cclxudXNlclJvdXRlci5wb3N0KCcvcmVnaXN0ZXJVc2VyJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IHVzZXJfZW1haWwsIHBhc3N3b3JkLCB2ZWhpY2xlSWQgfSA9IHJlcS5ib2R5O1xyXG4gICAgXHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgIC50aGVuKChkYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbigndXNlcnMnKTtcclxuICAgICAgICByZXR1cm4gdXNlckNvbGxlY3Rpb24uZmluZE9uZSh7IHVzZXJfZW1haWwgfSlcclxuICAgICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVc2VyIGFscmVhZHkgZXhpc3RzJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKVxyXG4gICAgICAgICAgICAgIC50aGVuKChoYXNoZWRQYXNzd29yZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IHtcclxuICAgICAgICAgICAgICAgICAgdXNlcl9lbWFpbDogdXNlcl9lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgdXNlcl9sb2NhdGlvbjogZmFrZXIubG9jYXRpb24uY2l0eSgpLFxyXG4gICAgICAgICAgICAgICAgICB1c2VyX2luZm86IGZha2VyLmxvcmVtLnNlbnRlbmNlcygpLFxyXG4gICAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAgIHZlaGljbGVfaW5mbzogdmVoaWNsZUlkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJDb2xsZWN0aW9uLmluc2VydE9uZShuZXdVc2VyKVxyXG4gICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBtZXNzYWdlOiAnVXNlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseScgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWdpc3RlcmluZyB1c2VyOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQnIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuICBcclxuXHJcbnVzZXJSb3V0ZXIuZ2V0KCcvdXNlci9sb2dpbicsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyB1c2VyX2VtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSB1c2VyIGJ5IGVtYWlsXHJcbiAgICAgICAgICAgIHJldHVybiB1c2Vyc0NvbGxlY3Rpb24uZmluZE9uZSh7IHVzZXJfZW1haWwgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjcmVkZW50aWFscycpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGlzdmFsaWRQYXNzd29yZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc3ZhbGlkUGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY3JlZGVudGlhbHMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXJJZDogdXNlci5faWQgfSwgand0U2VjcmV0LCB7IGV4cGlyZXNJbjogand0RXhwaXJhdGlvbiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuanNvbih7IHRva2VuIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgbG9nZ2luZyBpbiB1c2VyOicsIGVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIGRhdGFiYXNlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkJyB9KTtcclxuICAgICAgICB9KTtcclxufSlcclxuXHJcblxyXG51c2VyUm91dGVyLmdldCgnL2NhcnMnLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2Fyc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdjYXJzJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBjYXJzQ29sbGVjdGlvbi5maW5kKCkudG9BcnJheSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKGNhcnMpID0+IHtcclxuICAgICAgICAgICAgcmVzLmpzb24oY2FycylcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgaW4gcmV0cmlldmluZyBjYXJzJywgZSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9KVxyXG4gICAgICAgIH0pXHJcblxyXG59KVxyXG5cclxudXNlclJvdXRlci5nZXQoJy9kZWFsZXJzaGlwcy86ZGVhbGVyc2hpcElkL2NhcnMnLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgZGVhbGVyc2hpcElkIH0gPSByZXEucGFyYW1zO1xyXG5cclxuICAgIGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGVhbGVyc2hpcENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdkZWFsZXJzaGlwJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWFsZXJzaGlwQ29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoZGVhbGVyc2hpcElkKSB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGRlYWxlcnNoaXApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRlYWxlcnNoaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdEZWFsZXJzaGlwIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2NhcnMnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJJZHMgPSBkZWFsZXJzaGlwLmNhcnMubWFwKChjYXJJZCkgPT4gbmV3IE9iamVjdElkKGNhcklkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXJzQ29sbGVjdGlvbi5maW5kKHsgX2lkOiB7ICRpbjogY2FySWRzIH0gfSkudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKChjYXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oY2Fycyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJldHJpZXZpbmcgY2FycyBpbiBkZWFsZXJzaGlwOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHRoZSBkYXRhYmFzZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gICAgICAgIH0pO1xyXG59KTtcclxuLy8gIHZpZXcgZGVhbGVyc2hpcCB3aXRoIGNlcnRhaW4gY2FyXHJcbnVzZXJSb3V0ZXIuZ2V0KCcvY2Fycy86Y2FySWQvZGVhbGVyc2hpcCcsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyBjYXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGVhbGVyc2hpcENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdkZWFsZXJzaGlwJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWFsZXJzaGlwQ29sbGVjdGlvbi5maW5kKHsgY2FyczogbmV3IE9iamVjdElkKGNhcklkKSB9KS50b0FycmF5KCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoZGVhbGVyc2hpcHMpID0+IHtcclxuICAgICAgICAgICAgcmVzLmpzb24oZGVhbGVyc2hpcHMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXRyaWV2aW5nIGRlYWxlcnNoaXBzIHdpdGggY2FyOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XHJcbiAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbnVzZXJSb3V0ZXIuZ2V0KCcvdXNlcnMvOnVzZXJJZC92ZWhpY2xlcycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbigndXNlcnMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZXJDb2xsZWN0aW9uLmZpbmRPbmUoeyBfaWQ6IG5ldyBPYmplY3RJZCh1c2VySWQpIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoeyBzdGF0dXM6IDQwNCwgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29sZFZlaGljbGVzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ3NvbGRfdmVoaWNsZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZWhpY2xlSW5mb0FycmF5ID0gQXJyYXkuaXNBcnJheSh1c2VyLnZlaGljbGVfaW5mbykgPyB1c2VyLnZlaGljbGVfaW5mbyA6IFt1c2VyLnZlaGljbGVfaW5mb107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvbGRWZWhpY2xlc0NvbGxlY3Rpb24uZmluZCh7IF9pZDogeyAkaW46IHZlaGljbGVJbmZvQXJyYXkgfSB9KS50b0FycmF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHZlaGljbGVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24odmVoaWNsZXMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXRyaWV2aW5nIHVzZXIgdmVoaWNsZXM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gdGhlIGRhdGFiYXNlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XHJcbiAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxudXNlclJvdXRlci5nZXQoJy9jYXJzLzpjYXJJZC9kZWFscycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyBjYXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGVhbENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdkZWFscycpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVhbENvbGxlY3Rpb24uZmluZCh7IGNhcl9pZDogbmV3IE9iamVjdElkKGNhcklkKSB9KS50b0FycmF5KCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoZGVhbHMpID0+IHtcclxuICAgICAgICAgICAgcmVzLmpzb24oZGVhbHMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXRyaWV2aW5nIGRlYWxzIG9uIGNhcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gICAgICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG4vLyBFbmRwb2ludCB0byB2aWV3IGFsbCBkZWFscyBmcm9tIGEgY2VydGFpbiBkZWFsZXJzaGlwXHJcbnVzZXJSb3V0ZXIuZ2V0KCcvZGVhbGVyc2hpcHMvOmRlYWxlcnNoaXBJZC9kZWFscycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyBkZWFsZXJzaGlwSWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlYWxlcnNoaXBDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZGVhbGVyc2hpcCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVhbGVyc2hpcENvbGxlY3Rpb24uZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElkKGRlYWxlcnNoaXBJZCkgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKChkZWFsZXJzaGlwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWFsZXJzaGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7IHN0YXR1czogNDA0LCBtZXNzYWdlOiAnRGVhbGVyc2hpcCBub3QgZm91bmQnIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkZWFsQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2RlYWxzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGRlYWxDb2xsZWN0aW9uLmZpbmQoeyBfaWQ6IHsgJGluOiBkZWFsZXJzaGlwLmRlYWxzIH0gfSkudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlYWxDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZGVhbHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWFsSWRzID0gT2JqZWN0LnZhbHVlcyhkZWFsZXJzaGlwLmRlYWxzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVhbENvbGxlY3Rpb24uZmluZCh7IF9pZDogeyAkaW46IGRlYWxJZHMgfSB9KS50b0FycmF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGRlYWxzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oZGVhbHMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXRyaWV2aW5nIGRlYWxlcnNoaXAgZGVhbHM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gdGhlIGRhdGFiYXNlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XHJcbiAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBQyxzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQU0sYUFBQSxHQUFBRCxzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQU8sT0FBQSxHQUFBUCxPQUFBO0FBQXdELFNBQUFLLHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFB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","map":{"version":3,"names":["_express","_interopRequireWildcard","require","_mongodb","_bson","_faker","_bcrypt","_interopRequireDefault","_jsonwebtoken","_config","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","userRouter","Router","post","req","res","user_email","password","vehicleId","body","connectToDatabase","then","db","userCollection","collection","findOne","user","status","json","error","bcrypt","hash","hashedPassword","newUser","user_location","faker","location","city","user_info","lorem","sentences","vehicle_info","insertOne","message","catch","console","usersCollection","Error","compare","isvalidPassword","token","jwt","sign","userId","_id","jwtSecret","expiresIn","jwtExpiration","log","carsCollection","find","toArray","cars","e","dealershipId","params","dealershipCollection","ObjectId","dealership","carIds","map","carId","$in","dealerships","Promise","reject","soldVehiclesCollection","vehicleInfoArray","Array","isArray","vehicles","dealCollection","car_id","deals","dealIds","values","_default","exports"],"sourceRoot":"C:\\Users\\RISHU\\delivery_app\\backend\\router\\","sources":["user.js"],"sourcesContent":["import express, { Router } from 'express';\r\nimport { connectToDatabase } from '../db/mongodb';\r\nimport { ObjectId } from 'bson';\r\nimport { faker } from '@faker-js/faker';\r\nimport bcrypt from 'bcrypt';\r\nimport jwt from 'jsonwebtoken';\r\nimport { jwtSecret, jwtExpiration } from '../config.js';\r\nconst userRouter = new Router();\r\n\r\n\r\nuserRouter.post('/registerUser', (req, res) => {\r\n    const { user_email, password, vehicleId } = req.body;\r\n    \r\n    connectToDatabase()\r\n      .then((db) => {\r\n        const userCollection = db.collection('users');\r\n        return userCollection.findOne({ user_email })\r\n          .then((user) => {\r\n            if (user) {\r\n              return res.status(400).json({ error: 'User already exists' });\r\n            }\r\n            return bcrypt.hash(password, 10)\r\n              .then((hashedPassword) => {\r\n                const newUser = {\r\n                  user_email: user_email,\r\n                  user_location: faker.location.city(),\r\n                  user_info: faker.lorem.sentences(),\r\n                  password: hashedPassword,\r\n                  vehicle_info: vehicleId\r\n                };\r\n  \r\n                return userCollection.insertOne(newUser)\r\n                  .then(() => {\r\n                    res.status(201).json({ message: 'User registered successfully' });\r\n                  });\r\n              });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error registering user:', error);\r\n        res.status(500).json({ error: 'An error occurred' });\r\n      });\r\n  });\r\n  \r\n\r\nuserRouter.get('/user/login', (req, res) => {\r\n    const { user_email, password } = req.body;\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const usersCollection = db.collection('users');\r\n\r\n            // Find the user by email\r\n            return usersCollection.findOne({ user_email })\r\n                .then((user) => {\r\n                    if (!user) {\r\n                        throw new Error('Invalid credentials')\r\n                    }\r\n                    return bcrypt.compare(password, user.password)\r\n                        .then((isvalidPassword) => {\r\n                            if (!isvalidPassword) {\r\n                                throw new Error('Invalid credentials')\r\n                            }\r\n                            const token = jwt.sign({ userId: user._id }, jwtSecret, { expiresIn: jwtExpiration });\r\n\r\n                            res.json({ token });\r\n                        })\r\n                })\r\n                .catch((error) => {\r\n                    console.log('Error logging in user:', error)\r\n                    res.status(401).json({ error: 'Invalid credentials' });\r\n                })\r\n        })\r\n        .catch(error => {\r\n            console.error('Error connecting to database:', error);\r\n            res.status(500).json({ error: 'An error occurred' });\r\n        });\r\n})\r\n\r\n\r\nuserRouter.get('/cars', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const carsCollection = db.collection('cars');\r\n            return carsCollection.find().toArray();\r\n        })\r\n        .then((cars) => {\r\n            res.json(cars)\r\n        })\r\n        .catch((e) => {\r\n            console.log('Error in retrieving cars', e)\r\n            res.status(500).json({ e: 'Internal Server Error' })\r\n        })\r\n\r\n})\r\n\r\nuserRouter.get('/dealerships/:dealershipId/cars', (req, res) => {\r\n    const { dealershipId } = req.params;\r\n\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealershipCollection = db.collection('dealership');\r\n            return dealershipCollection.findOne({ _id: new ObjectId(dealershipId) })\r\n                .then((dealership) => {\r\n                    if (!dealership) {\r\n                        return res.status(404).json({ error: 'Dealership not found' });\r\n                    }\r\n\r\n                    const carsCollection = db.collection('cars');\r\n                    const carIds = dealership.cars.map((carId) => new ObjectId(carId));\r\n\r\n                    return carsCollection.find({ _id: { $in: carIds } }).toArray();\r\n                })\r\n                .then((cars) => {\r\n                    res.json(cars);\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error retrieving cars in dealership:', error);\r\n                    res.status(500).json({ error: 'Internal server error' });\r\n                });\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error connecting to the database:', error);\r\n            res.status(500).json({ error: 'Internal server error' });\r\n        });\r\n});\r\n//  view dealership with certain car\r\nuserRouter.get('/cars/:carId/dealership', (req, res) => {\r\n    const { carId } = req.params;\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealershipCollection = db.collection('dealership');\r\n            return dealershipCollection.find({ cars: new ObjectId(carId) }).toArray();\r\n        })\r\n        .then((dealerships) => {\r\n            res.json(dealerships);\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error retrieving dealerships with car:', error);\r\n            res.status(500).json({ error: 'Internal server error' });\r\n        });\r\n});\r\n\r\n\r\nuserRouter.get('/users/:userId/vehicles', (req, res) => {\r\n    const { userId } = req.params;\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const userCollection = db.collection('users');\r\n            return userCollection.findOne({ _id: new ObjectId(userId) })\r\n                .then((user) => {\r\n                    if (!user) {\r\n                        return Promise.reject({ status: 404, message: 'User not found' });\r\n                    }\r\n                    const soldVehiclesCollection = db.collection('sold_vehicles');\r\n                    const vehicleInfoArray = Array.isArray(user.vehicle_info) ? user.vehicle_info : [user.vehicle_info];\r\n                    return soldVehiclesCollection.find({ _id: { $in: vehicleInfoArray } }).toArray();\r\n                })\r\n                .then((vehicles) => {\r\n                    res.json(vehicles);\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error retrieving user vehicles:', error);\r\n                    res.status(500).json({ error: 'Internal server error' });\r\n                });\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error connecting to the database:', error);\r\n            res.status(500).json({ error: 'Internal server error' });\r\n        });\r\n});\r\n\r\nuserRouter.get('/cars/:carId/deals', (req, res) => {\r\n    const { carId } = req.params;\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealCollection = db.collection('deals');\r\n            return dealCollection.find({ car_id: new ObjectId(carId) }).toArray();\r\n        })\r\n        .then((deals) => {\r\n            res.json(deals);\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error retrieving deals on car:', error);\r\n            res.status(500).json({ error: 'Internal server error' });\r\n        });\r\n});\r\n\r\n\r\n// Endpoint to view all deals from a certain dealership\r\nuserRouter.get('/dealerships/:dealershipId/deals', (req, res) => {\r\n    const { dealershipId } = req.params;\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealershipCollection = db.collection('dealership');\r\n            return dealershipCollection.findOne({ _id: new ObjectId(dealershipId) })\r\n                .then((dealership) => {\r\n                    if (!dealership) {\r\n                        return Promise.reject({ status: 404, message: 'Dealership not found' });\r\n                    }\r\n                    // const dealCollection = db.collection('deals');\r\n                    // return dealCollection.find({ _id: { $in: dealership.deals } }).toArray();\r\n                    const dealCollection = db.collection('deals');\r\n                    const dealIds = Object.values(dealership.deals[0]);\r\n                    return dealCollection.find({ _id: { $in: dealIds } }).toArray();\r\n                })\r\n                .then((deals) => {\r\n                    res.json(deals);\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error retrieving dealership deals:', error);\r\n                    res.status(500).json({ error: 'Internal server error' });\r\n                });\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error connecting to the database:', error);\r\n            res.status(500).json({ error: 'Internal server error' });\r\n        });\r\n});\r\n\r\n\r\nexport default userRouter;\r\n"],"mappings":"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"}},"mtime":1689003822756},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\db\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"filename\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\db\\\\mongodb.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"MongoClient\", {\n  enumerable: true,\n  get: function () {\n    return _mongodb.MongoClient;\n  }\n});\nexports.connectToDatabase = connectToDatabase;\nexports.insertFakeData = insertFakeData;\nvar _mongodb = require(\"mongodb\");\nvar _faker = require(\"@faker-js/faker\");\n// h3eQe3OufvwU2xLl\nconst connectionURL = 'mongodb+srv://pradum19441:h3eQe3OufvwU2xLl@cluster0.rvorudf.mongodb.net/?retryWrites=true&w=majority';\n// const connectionURL='mongodb://127.0.0.1:27017'\nconst dbName = 'delivery-app';\n// const client = new MongoClient(connectionURL);\n\nasync function connectToDatabase() {\n  try {\n    const client = await _mongodb.MongoClient.connect(connectionURL, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    const db = client.db(dbName);\n    console.log('Connected to MongoDB');\n    return db;\n  } catch (error) {\n    console.error('Error connecting to MongoDB:', error);\n    throw error;\n  }\n}\n\n// Function to insert fake data into the collections\nasync function insertFakeData() {\n  try {\n    const db = await connectToDatabase();\n    const collection = db.collection('users');\n    const carsCollection = db.collection('cars');\n    const dealershipCollection = db.collection('dealership');\n    const dealCollection = db.collection('deals');\n    const soldVehiclesCollection = db.collection('sold_vehicles');\n    let numCars = 5;\n    const carData = [];\n    for (let i = 0; i < numCars; i++) {\n      const car = {\n        type: _faker.faker.vehicle.type(),\n        name: _faker.faker.vehicle.manufacturer(),\n        model: _faker.faker.vehicle.model(),\n        car_info: {}\n      };\n      carData.push(car);\n    }\n    await carsCollection.insertMany(carData);\n    console.log('Car documents inserted successfully');\n    const dealershipModel = {\n      dealership_email: _faker.faker.internet.email(),\n      dealership_name: _faker.faker.internet.userName(),\n      dealership_location: _faker.faker.location.city(),\n      password: _faker.faker.internet.password(),\n      dealership_info: _faker.faker.lorem.sentences(),\n      cars: [],\n      deals: [],\n      sold_vehicles: []\n    };\n    const cars = await carsCollection.find().toArray();\n    const carIds = cars.map(car => car._id);\n    dealershipModel.cars = carIds;\n    let numDeals = 3;\n    const dealModels = [];\n    for (let i = 0; i < numDeals; i++) {\n      const dealModel = {\n        car_id: carIds,\n        deal_info: _faker.faker.lorem.sentences()\n      };\n      dealModels.push(dealModel);\n    }\n    const dealResult = await dealCollection.insertMany(dealModels);\n    console.log('Deal documents inserted successfully');\n    const dealIds = dealResult.insertedIds;\n    dealershipModel.deals.push(dealIds);\n    let numSoldVehicles = 1;\n    const soldVehiclesModels = [];\n    for (let i = 0; i < numSoldVehicles; i++) {\n      const soldVehiclesModel = {\n        car_id: carIds,\n        vehicle_info: {}\n      };\n      soldVehiclesModels.push(soldVehiclesModel);\n    }\n    const soldVehiclesResult = await soldVehiclesCollection.insertMany(soldVehiclesModels);\n    console.log('Sold vehicle documents inserted successfully');\n    const soldVehicleIds = soldVehiclesResult.insertedIds;\n    dealershipModel.sold_vehicles = soldVehicleIds;\n    await dealershipCollection.insertOne(dealershipModel);\n    console.log('DealerShip document inserted successfully');\n    let numUsers = 10;\n    const userModels = [];\n    for (let i = 0; i < numUsers; i++) {\n      const userModel = {\n        user_email: _faker.faker.internet.email(),\n        user_location: _faker.faker.location.city(),\n        user_info: _faker.faker.lorem.sentences(),\n        password: _faker.faker.internet.password(),\n        vehicle_info: soldVehicleIds\n      };\n      if (userModel.password.toLowerCase().includes('password')) {\n        throw new Error('Password is not allowed');\n      }\n      userModels.push(userModel);\n    }\n    await collection.insertMany(userModels);\n    console.log('UserDocuments inserted successfully');\n  } catch (error) {\n    console.error('Error inserting fake data:', error);\n    throw error;\n  }\n}\n\n// Export the MongoClient\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29kYiIsInJlcXVpcmUiLCJfZmFrZXIiLCJjb25uZWN0aW9uVVJMIiwiZGJOYW1lIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJjbGllbnQiLCJNb25nb0NsaWVudCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJkYiIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImluc2VydEZha2VEYXRhIiwiY29sbGVjdGlvbiIsImNhcnNDb2xsZWN0aW9uIiwiZGVhbGVyc2hpcENvbGxlY3Rpb24iLCJkZWFsQ29sbGVjdGlvbiIsInNvbGRWZWhpY2xlc0NvbGxlY3Rpb24iLCJudW1DYXJzIiwiY2FyRGF0YSIsImkiLCJjYXIiLCJ0eXBlIiwiZmFrZXIiLCJ2ZWhpY2xlIiwibmFtZSIsIm1hbnVmYWN0dXJlciIsIm1vZGVsIiwiY2FyX2luZm8iLCJwdXNoIiwiaW5zZXJ0TWFueSIsImRlYWxlcnNoaXBNb2RlbCIsImRlYWxlcnNoaXBfZW1haWwiLCJpbnRlcm5ldCIsImVtYWlsIiwiZGVhbGVyc2hpcF9uYW1lIiwidXNlck5hbWUiLCJkZWFsZXJzaGlwX2xvY2F0aW9uIiwibG9jYXRpb24iLCJjaXR5IiwicGFzc3dvcmQiLCJkZWFsZXJzaGlwX2luZm8iLCJsb3JlbSIsInNlbnRlbmNlcyIsImNhcnMiLCJkZWFscyIsInNvbGRfdmVoaWNsZXMiLCJmaW5kIiwidG9BcnJheSIsImNhcklkcyIsIm1hcCIsIl9pZCIsIm51bURlYWxzIiwiZGVhbE1vZGVscyIsImRlYWxNb2RlbCIsImNhcl9pZCIsImRlYWxfaW5mbyIsImRlYWxSZXN1bHQiLCJkZWFsSWRzIiwiaW5zZXJ0ZWRJZHMiLCJudW1Tb2xkVmVoaWNsZXMiLCJzb2xkVmVoaWNsZXNNb2RlbHMiLCJzb2xkVmVoaWNsZXNNb2RlbCIsInZlaGljbGVfaW5mbyIsInNvbGRWZWhpY2xlc1Jlc3VsdCIsInNvbGRWZWhpY2xlSWRzIiwiaW5zZXJ0T25lIiwibnVtVXNlcnMiLCJ1c2VyTW9kZWxzIiwidXNlck1vZGVsIiwidXNlcl9lbWFpbCIsInVzZXJfbG9jYXRpb24iLCJ1c2VyX2luZm8iLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTSFVcXGRlbGl2ZXJ5X2FwcFxcYmFja2VuZFxcZGJcXCIsInNvdXJjZXMiOlsibW9uZ29kYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCwgT2JqZWN0SUQgfSBmcm9tICdtb25nb2RiJztcclxuaW1wb3J0IHsgZmFrZXIgfSBmcm9tICdAZmFrZXItanMvZmFrZXInO1xyXG5cclxuLy8gaDNlUWUzT3VmdndVMnhMbFxyXG5jb25zdCBjb25uZWN0aW9uVVJMID0gJ21vbmdvZGIrc3J2Oi8vcHJhZHVtMTk0NDE6aDNlUWUzT3VmdndVMnhMbEBjbHVzdGVyMC5ydm9ydWRmLm1vbmdvZGIubmV0Lz9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHknXHJcbi8vIGNvbnN0IGNvbm5lY3Rpb25VUkw9J21vbmdvZGI6Ly8xMjcuMC4wLjE6MjcwMTcnXHJcbmNvbnN0IGRiTmFtZSA9ICdkZWxpdmVyeS1hcHAnXHJcbi8vIGNvbnN0IGNsaWVudCA9IG5ldyBNb25nb0NsaWVudChjb25uZWN0aW9uVVJMKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IE1vbmdvQ2xpZW50LmNvbm5lY3QoY29ubmVjdGlvblVSTCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KTtcclxuICAgICAgY29uc3QgZGIgPSBjbGllbnQuZGIoZGJOYW1lKTtcclxuICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJyk7XHJcbiAgICAgIHJldHVybiBkYjtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gTW9uZ29EQjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBGdW5jdGlvbiB0byBpbnNlcnQgZmFrZSBkYXRhIGludG8gdGhlIGNvbGxlY3Rpb25zXHJcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydEZha2VEYXRhKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGIgPSBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xyXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb249ZGIuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICBjb25zdCBjYXJzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2NhcnMnKTtcclxuICAgICAgY29uc3QgZGVhbGVyc2hpcENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdkZWFsZXJzaGlwJyk7XHJcbiAgICAgIGNvbnN0IGRlYWxDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZGVhbHMnKTtcclxuICAgICAgY29uc3Qgc29sZFZlaGljbGVzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ3NvbGRfdmVoaWNsZXMnKTtcclxuICBcclxuICAgICAgbGV0IG51bUNhcnMgPSA1O1xyXG4gICAgICBjb25zdCBjYXJEYXRhID0gW107XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ2FyczsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2FyID0ge1xyXG4gICAgICAgICAgdHlwZTogZmFrZXIudmVoaWNsZS50eXBlKCksXHJcbiAgICAgICAgICBuYW1lOiBmYWtlci52ZWhpY2xlLm1hbnVmYWN0dXJlcigpLFxyXG4gICAgICAgICAgbW9kZWw6IGZha2VyLnZlaGljbGUubW9kZWwoKSxcclxuICAgICAgICAgIGNhcl9pbmZvOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNhckRhdGEucHVzaChjYXIpO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIGF3YWl0IGNhcnNDb2xsZWN0aW9uLmluc2VydE1hbnkoY2FyRGF0YSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYXIgZG9jdW1lbnRzIGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gIFxyXG4gICAgICBjb25zdCBkZWFsZXJzaGlwTW9kZWwgPSB7XHJcbiAgICAgICAgZGVhbGVyc2hpcF9lbWFpbDogZmFrZXIuaW50ZXJuZXQuZW1haWwoKSxcclxuICAgICAgICBkZWFsZXJzaGlwX25hbWU6IGZha2VyLmludGVybmV0LnVzZXJOYW1lKCksXHJcbiAgICAgICAgZGVhbGVyc2hpcF9sb2NhdGlvbjogZmFrZXIubG9jYXRpb24uY2l0eSgpLFxyXG4gICAgICAgIHBhc3N3b3JkOiBmYWtlci5pbnRlcm5ldC5wYXNzd29yZCgpLFxyXG4gICAgICAgIGRlYWxlcnNoaXBfaW5mbzogZmFrZXIubG9yZW0uc2VudGVuY2VzKCksXHJcbiAgICAgICAgY2FyczogW10sXHJcbiAgICAgICAgZGVhbHM6IFtdLFxyXG4gICAgICAgIHNvbGRfdmVoaWNsZXM6IFtdLFxyXG4gICAgICB9O1xyXG4gIFxyXG4gICAgICBjb25zdCBjYXJzID0gYXdhaXQgY2Fyc0NvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcclxuICAgICAgY29uc3QgY2FySWRzID0gY2Fycy5tYXAoKGNhcikgPT4gY2FyLl9pZCk7XHJcbiAgICAgIGRlYWxlcnNoaXBNb2RlbC5jYXJzID0gY2FySWRzO1xyXG4gIFxyXG4gICAgICBsZXQgbnVtRGVhbHMgPSAzO1xyXG4gICAgICBjb25zdCBkZWFsTW9kZWxzID0gW107XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRGVhbHM7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGRlYWxNb2RlbCA9IHtcclxuICAgICAgICAgIGNhcl9pZDogY2FySWRzLFxyXG4gICAgICAgICAgZGVhbF9pbmZvOiBmYWtlci5sb3JlbS5zZW50ZW5jZXMoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRlYWxNb2RlbHMucHVzaChkZWFsTW9kZWwpO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIGNvbnN0IGRlYWxSZXN1bHQgPSBhd2FpdCBkZWFsQ29sbGVjdGlvbi5pbnNlcnRNYW55KGRlYWxNb2RlbHMpO1xyXG4gICAgICBjb25zb2xlLmxvZygnRGVhbCBkb2N1bWVudHMgaW5zZXJ0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIGNvbnN0IGRlYWxJZHMgPSBkZWFsUmVzdWx0Lmluc2VydGVkSWRzO1xyXG4gICAgICBkZWFsZXJzaGlwTW9kZWwuZGVhbHMucHVzaChkZWFsSWRzKTtcclxuICBcclxuICAgICAgbGV0IG51bVNvbGRWZWhpY2xlcyA9IDE7XHJcbiAgICAgIGNvbnN0IHNvbGRWZWhpY2xlc01vZGVscyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNvbGRWZWhpY2xlczsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc29sZFZlaGljbGVzTW9kZWwgPSB7XHJcbiAgICAgICAgICBjYXJfaWQ6IGNhcklkcyxcclxuICAgICAgICAgIHZlaGljbGVfaW5mbzoge30sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzb2xkVmVoaWNsZXNNb2RlbHMucHVzaChzb2xkVmVoaWNsZXNNb2RlbCk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgY29uc3Qgc29sZFZlaGljbGVzUmVzdWx0ID0gYXdhaXQgc29sZFZlaGljbGVzQ29sbGVjdGlvbi5pbnNlcnRNYW55KHNvbGRWZWhpY2xlc01vZGVscyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTb2xkIHZlaGljbGUgZG9jdW1lbnRzIGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICBjb25zdCBzb2xkVmVoaWNsZUlkcyA9IHNvbGRWZWhpY2xlc1Jlc3VsdC5pbnNlcnRlZElkcztcclxuICAgICAgZGVhbGVyc2hpcE1vZGVsLnNvbGRfdmVoaWNsZXMgPSBzb2xkVmVoaWNsZUlkcztcclxuICBcclxuICAgICAgYXdhaXQgZGVhbGVyc2hpcENvbGxlY3Rpb24uaW5zZXJ0T25lKGRlYWxlcnNoaXBNb2RlbCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdEZWFsZXJTaGlwIGRvY3VtZW50IGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gIFxyXG4gICAgICBsZXQgbnVtVXNlcnMgPSAxMDtcclxuICAgICAgY29uc3QgdXNlck1vZGVscyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVVzZXJzOyBpKyspIHtcclxuICAgICAgICBjb25zdCB1c2VyTW9kZWwgPSB7XHJcbiAgICAgICAgICB1c2VyX2VtYWlsOiBmYWtlci5pbnRlcm5ldC5lbWFpbCgpLFxyXG4gICAgICAgICAgdXNlcl9sb2NhdGlvbjogZmFrZXIubG9jYXRpb24uY2l0eSgpLFxyXG4gICAgICAgICAgdXNlcl9pbmZvOiBmYWtlci5sb3JlbS5zZW50ZW5jZXMoKSxcclxuICAgICAgICAgIHBhc3N3b3JkOiBmYWtlci5pbnRlcm5ldC5wYXNzd29yZCgpLFxyXG4gICAgICAgICAgdmVoaWNsZV9pbmZvOiBzb2xkVmVoaWNsZUlkcyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh1c2VyTW9kZWwucGFzc3dvcmQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncGFzc3dvcmQnKSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXNzd29yZCBpcyBub3QgYWxsb3dlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VyTW9kZWxzLnB1c2godXNlck1vZGVsKTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE1hbnkodXNlck1vZGVscyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyRG9jdW1lbnRzIGluc2VydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5zZXJ0aW5nIGZha2UgZGF0YTonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuXHJcblxyXG4gIC8vIEV4cG9ydCB0aGUgTW9uZ29DbGllbnRcclxuICBleHBvcnQgeyBNb25nb0NsaWVudCB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFFQTtBQUNBLE1BQU1FLGFBQWEsR0FBRyxzR0FBc0c7QUFDNUg7QUFDQSxNQUFNQyxNQUFNLEdBQUcsY0FBYztBQUM3Qjs7QUFFTyxlQUFlQyxpQkFBaUJBLENBQUEsRUFBRztFQUN0QyxJQUFJO0lBQ0YsTUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFXLENBQUNDLE9BQU8sQ0FBQ0wsYUFBYSxFQUFFO01BQUVNLGVBQWUsRUFBRSxJQUFJO01BQUVDLGtCQUFrQixFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQzVHLE1BQU1DLEVBQUUsR0FBR0wsTUFBTSxDQUFDSyxFQUFFLENBQUNQLE1BQU0sQ0FBQztJQUM1QlEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7SUFDbkMsT0FBT0YsRUFBRTtFQUNYLENBQUMsQ0FBQyxPQUFPRyxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDRSxLQUFLLENBQUMsOEJBQThCLEVBQUVBLEtBQUssQ0FBQztJQUNwRCxNQUFNQSxLQUFLO0VBQ2I7QUFDRjs7QUFFQTtBQUNPLGVBQWVDLGNBQWNBLENBQUEsRUFBRztFQUNyQyxJQUFJO0lBQ0YsTUFBTUosRUFBRSxHQUFHLE1BQU1OLGlCQUFpQixDQUFDLENBQUM7SUFDbEMsTUFBTVcsVUFBVSxHQUFDTCxFQUFFLENBQUNLLFVBQVUsQ0FBQyxPQUFPLENBQUM7SUFDekMsTUFBTUMsY0FBYyxHQUFHTixFQUFFLENBQUNLLFVBQVUsQ0FBQyxNQUFNLENBQUM7SUFDNUMsTUFBTUUsb0JB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","map":{"version":3,"names":["_mongodb","require","_faker","connectionURL","dbName","connectToDatabase","client","MongoClient","connect","useNewUrlParser","useUnifiedTopology","db","console","log","error","insertFakeData","collection","carsCollection","dealershipCollection","dealCollection","soldVehiclesCollection","numCars","carData","i","car","type","faker","vehicle","name","manufacturer","model","car_info","push","insertMany","dealershipModel","dealership_email","internet","email","dealership_name","userName","dealership_location","location","city","password","dealership_info","lorem","sentences","cars","deals","sold_vehicles","find","toArray","carIds","map","_id","numDeals","dealModels","dealModel","car_id","deal_info","dealResult","dealIds","insertedIds","numSoldVehicles","soldVehiclesModels","soldVehiclesModel","vehicle_info","soldVehiclesResult","soldVehicleIds","insertOne","numUsers","userModels","userModel","user_email","user_location","user_info","toLowerCase","includes","Error"],"sourceRoot":"C:\\Users\\RISHU\\delivery_app\\backend\\db\\","sources":["mongodb.js"],"sourcesContent":["import { MongoClient, ObjectID } from 'mongodb';\r\nimport { faker } from '@faker-js/faker';\r\n\r\n// h3eQe3OufvwU2xLl\r\nconst connectionURL = 'mongodb+srv://pradum19441:h3eQe3OufvwU2xLl@cluster0.rvorudf.mongodb.net/?retryWrites=true&w=majority'\r\n// const connectionURL='mongodb://127.0.0.1:27017'\r\nconst dbName = 'delivery-app'\r\n// const client = new MongoClient(connectionURL);\r\n\r\nexport async function connectToDatabase() {\r\n    try {\r\n      const client = await MongoClient.connect(connectionURL, { useNewUrlParser: true, useUnifiedTopology: true });\r\n      const db = client.db(dbName);\r\n      console.log('Connected to MongoDB');\r\n      return db;\r\n    } catch (error) {\r\n      console.error('Error connecting to MongoDB:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  // Function to insert fake data into the collections\r\n  export async function insertFakeData() {\r\n    try {\r\n      const db = await connectToDatabase();\r\n        const collection=db.collection('users')\r\n      const carsCollection = db.collection('cars');\r\n      const dealershipCollection = db.collection('dealership');\r\n      const dealCollection = db.collection('deals');\r\n      const soldVehiclesCollection = db.collection('sold_vehicles');\r\n  \r\n      let numCars = 5;\r\n      const carData = [];\r\n      for (let i = 0; i < numCars; i++) {\r\n        const car = {\r\n          type: faker.vehicle.type(),\r\n          name: faker.vehicle.manufacturer(),\r\n          model: faker.vehicle.model(),\r\n          car_info: {},\r\n        };\r\n        carData.push(car);\r\n      }\r\n  \r\n      await carsCollection.insertMany(carData);\r\n      console.log('Car documents inserted successfully');\r\n  \r\n      const dealershipModel = {\r\n        dealership_email: faker.internet.email(),\r\n        dealership_name: faker.internet.userName(),\r\n        dealership_location: faker.location.city(),\r\n        password: faker.internet.password(),\r\n        dealership_info: faker.lorem.sentences(),\r\n        cars: [],\r\n        deals: [],\r\n        sold_vehicles: [],\r\n      };\r\n  \r\n      const cars = await carsCollection.find().toArray();\r\n      const carIds = cars.map((car) => car._id);\r\n      dealershipModel.cars = carIds;\r\n  \r\n      let numDeals = 3;\r\n      const dealModels = [];\r\n      for (let i = 0; i < numDeals; i++) {\r\n        const dealModel = {\r\n          car_id: carIds,\r\n          deal_info: faker.lorem.sentences(),\r\n        };\r\n        dealModels.push(dealModel);\r\n      }\r\n  \r\n      const dealResult = await dealCollection.insertMany(dealModels);\r\n      console.log('Deal documents inserted successfully');\r\n      const dealIds = dealResult.insertedIds;\r\n      dealershipModel.deals.push(dealIds);\r\n  \r\n      let numSoldVehicles = 1;\r\n      const soldVehiclesModels = [];\r\n      for (let i = 0; i < numSoldVehicles; i++) {\r\n        const soldVehiclesModel = {\r\n          car_id: carIds,\r\n          vehicle_info: {},\r\n        };\r\n        soldVehiclesModels.push(soldVehiclesModel);\r\n      }\r\n  \r\n      const soldVehiclesResult = await soldVehiclesCollection.insertMany(soldVehiclesModels);\r\n      console.log('Sold vehicle documents inserted successfully');\r\n      const soldVehicleIds = soldVehiclesResult.insertedIds;\r\n      dealershipModel.sold_vehicles = soldVehicleIds;\r\n  \r\n      await dealershipCollection.insertOne(dealershipModel);\r\n      console.log('DealerShip document inserted successfully');\r\n  \r\n      let numUsers = 10;\r\n      const userModels = [];\r\n      for (let i = 0; i < numUsers; i++) {\r\n        const userModel = {\r\n          user_email: faker.internet.email(),\r\n          user_location: faker.location.city(),\r\n          user_info: faker.lorem.sentences(),\r\n          password: faker.internet.password(),\r\n          vehicle_info: soldVehicleIds,\r\n        };\r\n        if (userModel.password.toLowerCase().includes('password')) {\r\n          throw new Error('Password is not allowed');\r\n        }\r\n        userModels.push(userModel);\r\n      }\r\n  \r\n      await collection.insertMany(userModels);\r\n      console.log('UserDocuments inserted successfully');\r\n    } catch (error) {\r\n      console.error('Error inserting fake data:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n\r\n\r\n  // Export the MongoClient\r\n  export { MongoClient };\r\n"],"mappings":"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"}},"mtime":1689003793379},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"filename\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  jwtSecret: 'mysecretkey',\n  jwtExpiration: '30d' // Token expires in 30 day\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiand0U2VjcmV0Iiwiand0RXhwaXJhdGlvbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNIVVxcZGVsaXZlcnlfYXBwXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGp3dFNlY3JldDogJ215c2VjcmV0a2V5JyxcclxuICAgIGp3dEV4cGlyYXRpb246ICczMGQnIC8vIFRva2VuIGV4cGlyZXMgaW4gMzAgZGF5XHJcbiAgfTsiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2JDLFNBQVMsRUFBRSxhQUFhO0VBQ3hCQyxhQUFhLEVBQUUsS0FBSyxDQUFDO0FBQ3ZCLENBQUMifQ==","map":{"version":3,"names":["module","exports","jwtSecret","jwtExpiration"],"sourceRoot":"C:\\Users\\RISHU\\delivery_app\\backend\\","sources":["config.js"],"sourcesContent":["module.exports = {\r\n    jwtSecret: 'mysecretkey',\r\n    jwtExpiration: '30d' // Token expires in 30 day\r\n  };"],"mappings":";;AAAAA,MAAM,CAACC,OAAO,GAAG;EACbC,SAAS,EAAE,aAAa;EACxBC,aAAa,EAAE,KAAK,CAAC;AACvB,CAAC"}},"mtime":1689003870222},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"filename\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\\\\router\\\\dealership.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISHU\\\\delivery_app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _mongodb = require(\"../db/mongodb\");\nvar _bson = require(\"bson\");\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _config = require(\"../config\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst dealershipRouter = (0, _express.Router)();\ndealershipRouter.post('/registerdealership', (req, res) => {\n  const {\n    email,\n    dealership_name,\n    dealership_location,\n    password,\n    dealership_info,\n    carsId,\n    dealsId,\n    sold_vehiclesId\n  } = req.body;\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealershipCollection = db.collection('dealership');\n\n    // Check if the dealership already exists\n    return dealershipCollection.findOne({\n      dealership_email: email\n    }).then(existingDealer => {\n      if (existingDealer) {\n        throw new Error('Dealer already exists');\n      }\n\n      // Hash the password\n      return _bcrypt.default.hash(password, 10);\n    }).then(hashedPassword => {\n      const newDealer = {\n        dealership_email: email,\n        dealership_name: dealership_name,\n        dealership_location: dealership_location,\n        password: hashedPassword,\n        dealership_info: dealership_info,\n        cars: carsId,\n        deals: dealsId,\n        sold_vehicles: sold_vehiclesId\n      };\n\n      // Insert the new dealership into the database\n      return dealershipCollection.insertOne(newDealer);\n    }).then(() => {\n      res.status(201).json({\n        message: 'Dealer registered successfully'\n      });\n    }).catch(error => {\n      console.error('Error registering dealer:', error);\n      res.status(500).json({\n        error: 'An error occurred'\n      });\n    });\n  });\n});\ndealershipRouter.get('/dealership/login', (req, res, next) => {\n  const token = req.header('Authorization').replace('Bearer ', '');\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealershipCollection = db.collection('dealership');\n\n    // Verify the token\n    return _jsonwebtoken.default.verify(token, _config.jwtSecret).then(decoded => {\n      return dealershipCollection.findOne({\n        _id: decoded._id,\n        'tokens.token': token\n      });\n    }).then(dealer => {\n      if (!dealer) {\n        throw new Error();\n      }\n      req.token = token;\n      req.dealer = dealer;\n      next();\n    }).catch(() => {\n      res.status(401).json({\n        error: 'Please authenticate'\n      });\n    });\n  }).catch(error => {\n    console.error('Error connecting to database:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\n\n// view all  cars\ndealershipRouter.get('/dealerships', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const carsCollection = db.collection('cars');\n    return carsCollection.find().toArray();\n  }).then(cars => {\n    res.json(cars);\n  }).catch(error => {\n    console.log('Error in retrieving cars', error);\n    res.status(500).json({\n      error: 'Internal Server Error'\n    });\n  });\n});\n\n// view all the cars sold by dealership\ndealershipRouter.get('/sold-cars', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const soldVehiclesCollection = db.collection('sold_vehicles');\n    return soldVehiclesCollection.find().toArray();\n  }).then(soldCars => {\n    res.json(soldCars);\n  }).catch(error => {\n    console.error('Error fetching sold cars:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\n\n// add cars to dealership\ndealershipRouter.post('/cars', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const carsCollection = db.collection('cars');\n    const newCar = req.body;\n    return carsCollection.insertOne(newCar);\n  }).then(() => {\n    res.json({\n      message: 'Car added successfully'\n    });\n  }).catch(error => {\n    console.error('Error adding car:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\n\n// view deals provided by the dealership\ndealershipRouter.get('/view-deals', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealCollection = db.collection('deals');\n    return dealCollection.find().toArray();\n  }).then(deals => {\n    res.json(deals);\n  }).catch(error => {\n    console.log('Error in viewing cars:', error);\n    res.status.apply(500).json({\n      error: \"An error occurred\"\n    });\n  });\n});\n\n// add deals to dealership\ndealershipRouter.post('/deals', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const dealCollection = db.collection('deals');\n    const newDeal = req.body;\n    return dealCollection.insertOne(newDeal);\n  }).then(() => {\n    res.json({\n      message: 'Deal added successfully'\n    });\n  }).catch(error => {\n    console.error('Error adding deal:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\n\n// view all the vehicles ,dealership has sold\ndealershipRouter.get('/all-vehicles', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const soldVehiclesCollection = db.collection('sold_vehicles');\n    return soldVehiclesCollection.find().toArray();\n  }).then(soldvehicles => {\n    res.json(soldvehicles);\n  }).catch(error => {\n    console.error('Error fetching sold vehicles:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\n\n// add new vehicle to the list of sold vehicles after dealership is made\ndealershipRouter.post('/sold-vehicles', (req, res) => {\n  (0, _mongodb.connectToDatabase)().then(db => {\n    const soldVehiclesCollection = db.collection('sold_vehicles');\n    const newSoldVehicle = req.body;\n    return soldVehiclesCollection.insertOne(newSoldVehicle);\n  }).then(() => {\n    res.json({\n      message: 'Sold vehicle added successfully'\n    });\n  }).catch(error => {\n    console.error('Error adding sold vehicle:', error);\n    res.status(500).json({\n      error: 'An error occurred'\n    });\n  });\n});\nvar _default = dealershipRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9tb25nb2RiIiwiX2Jzb24iLCJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9qc29ud2VidG9rZW4iLCJfY29uZmlnIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsImRlYWxlcnNoaXBSb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwiZW1haWwiLCJkZWFsZXJzaGlwX25hbWUiLCJkZWFsZXJzaGlwX2xvY2F0aW9uIiwicGFzc3dvcmQiLCJkZWFsZXJzaGlwX2luZm8iLCJjYXJzSWQiLCJkZWFsc0lkIiwic29sZF92ZWhpY2xlc0lkIiwiYm9keSIsImNvbm5lY3RUb0RhdGFiYXNlIiwidGhlbiIsImRiIiwiZGVhbGVyc2hpcENvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsImRlYWxlcnNoaXBfZW1haWwiLCJleGlzdGluZ0RlYWxlciIsIkVycm9yIiwiYmNyeXB0IiwiaGFzaCIsImhhc2hlZFBhc3N3b3JkIiwibmV3RGVhbGVyIiwiY2FycyIsImRlYWxzIiwic29sZF92ZWhpY2xlcyIsImluc2VydE9uZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXIiLCJyZXBsYWNlIiwiand0IiwidmVyaWZ5Iiwiand0U2VjcmV0IiwiZGVjb2RlZCIsIl9pZCIsImRlYWxlciIsImNhcnNDb2xsZWN0aW9uIiwiZmluZCIsInRvQXJyYXkiLCJsb2ciLCJzb2xkVmVoaWNsZXNDb2xsZWN0aW9uIiwic29sZENhcnMiLCJuZXdDYXIiLCJkZWFsQ29sbGVjdGlvbiIsImFwcGx5IiwibmV3RGVhbCIsInNvbGR2ZWhpY2xlcyIsIm5ld1NvbGRWZWhpY2xlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0hVXFxkZWxpdmVyeV9hcHBcXGJhY2tlbmRcXHJvdXRlclxcIiwic291cmNlcyI6WyJkZWFsZXJzaGlwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzLCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBjb25uZWN0VG9EYXRhYmFzZSB9IGZyb20gJy4uL2RiL21vbmdvZGInO1xyXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ2Jzb24nO1xyXG5jb25zdCBkZWFsZXJzaGlwUm91dGVyID0gUm91dGVyKCk7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0JztcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyBqd3RTZWNyZXQsIGp3dEV4cGlyYXRpb24gfSBmcm9tICcuLi9jb25maWcnO1xyXG5cclxuZGVhbGVyc2hpcFJvdXRlci5wb3N0KCcvcmVnaXN0ZXJkZWFsZXJzaGlwJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IGVtYWlsLCBkZWFsZXJzaGlwX25hbWUsIGRlYWxlcnNoaXBfbG9jYXRpb24sIHBhc3N3b3JkLCBkZWFsZXJzaGlwX2luZm8sIGNhcnNJZCwgZGVhbHNJZCwgc29sZF92ZWhpY2xlc0lkIH0gPSByZXEuYm9keTtcclxuICAgIGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGVhbGVyc2hpcENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdkZWFsZXJzaGlwJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZGVhbGVyc2hpcCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgICAgICAgICByZXR1cm4gZGVhbGVyc2hpcENvbGxlY3Rpb24uZmluZE9uZSh7IGRlYWxlcnNoaXBfZW1haWw6IGVtYWlsIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZXhpc3RpbmdEZWFsZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdEZWFsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWFsZXIgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhc2ggdGhlIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGhhc2hlZFBhc3N3b3JkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVhbGVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWFsZXJzaGlwX2VtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVhbGVyc2hpcF9uYW1lOiBkZWFsZXJzaGlwX25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWxlcnNoaXBfbG9jYXRpb246IGRlYWxlcnNoaXBfbG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVhbGVyc2hpcF9pbmZvOiBkZWFsZXJzaGlwX2luZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnM6IGNhcnNJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVhbHM6IGRlYWxzSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvbGRfdmVoaWNsZXM6IHNvbGRfdmVoaWNsZXNJZFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgbmV3IGRlYWxlcnNoaXAgaW50byB0aGUgZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVhbGVyc2hpcENvbGxlY3Rpb24uaW5zZXJ0T25lKG5ld0RlYWxlcik7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgbWVzc2FnZTogJ0RlYWxlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseScgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZ2lzdGVyaW5nIGRlYWxlcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkJyB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxufSlcclxuXHJcbmRlYWxlcnNoaXBSb3V0ZXIuZ2V0KCcvZGVhbGVyc2hpcC9sb2dpbicsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcignQXV0aG9yaXphdGlvbicpLnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlYWxlcnNoaXBDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZGVhbGVyc2hpcCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSB0b2tlblxyXG4gICAgICAgICAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgand0U2VjcmV0KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGRlY29kZWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVhbGVyc2hpcENvbGxlY3Rpb24uZmluZE9uZSh7IF9pZDogZGVjb2RlZC5faWQsICd0b2tlbnMudG9rZW4nOiB0b2tlbiB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZGVhbGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWFsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXEudG9rZW4gPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICByZXEuZGVhbGVyID0gZGVhbGVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnUGxlYXNlIGF1dGhlbnRpY2F0ZScgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIGRhdGFiYXNlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkJyB9KTtcclxuICAgICAgICB9KVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuLy8gdmlldyBhbGwgIGNhcnNcclxuZGVhbGVyc2hpcFJvdXRlci5nZXQoJy9kZWFsZXJzaGlwcycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29ubmVjdFRvRGF0YWJhc2UoKVxyXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2NhcnMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhcnNDb2xsZWN0aW9uLmZpbmQoKS50b0FycmF5KCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoY2FycykgPT4ge1xyXG4gICAgICAgICAgICByZXMuanNvbihjYXJzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGluIHJldHJpZXZpbmcgY2FycycsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSk7XHJcbiAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuLy8gdmlldyBhbGwgdGhlIGNhcnMgc29sZCBieSBkZWFsZXJzaGlwXHJcbmRlYWxlcnNoaXBSb3V0ZXIuZ2V0KCcvc29sZC1jYXJzJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvbGRWZWhpY2xlc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdzb2xkX3ZlaGljbGVzJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBzb2xkVmVoaWNsZXNDb2xsZWN0aW9uLmZpbmQoKS50b0FycmF5KClcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChzb2xkQ2FycykgPT4ge1xyXG4gICAgICAgICAgICByZXMuanNvbihzb2xkQ2FycylcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc29sZCBjYXJzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkJyB9KTtcclxuICAgICAgICB9KVxyXG59KVxyXG5cclxuLy8gYWRkIGNhcnMgdG8gZGVhbGVyc2hpcFxyXG5kZWFsZXJzaGlwUm91dGVyLnBvc3QoJy9jYXJzJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcnNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignY2FycycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdDYXIgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhcnNDb2xsZWN0aW9uLmluc2VydE9uZShuZXdDYXIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdDYXIgYWRkZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGNhcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCcgfSk7XHJcbiAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuLy8gdmlldyBkZWFscyBwcm92aWRlZCBieSB0aGUgZGVhbGVyc2hpcFxyXG5kZWFsZXJzaGlwUm91dGVyLmdldCgnL3ZpZXctZGVhbHMnLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGVhbENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdkZWFscycpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVhbENvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChkZWFscykgPT4ge1xyXG4gICAgICAgICAgICByZXMuanNvbihkZWFscylcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGluIHZpZXdpbmcgY2FyczonLCBlcnJvcilcclxuICAgICAgICAgICAgcmVzLnN0YXR1cy5hcHBseSg1MDApLmpzb24oeyBlcnJvcjogXCJBbiBlcnJvciBvY2N1cnJlZFwiIH0pXHJcbiAgICAgICAgfSlcclxufSlcclxuXHJcbi8vIGFkZCBkZWFscyB0byBkZWFsZXJzaGlwXHJcbmRlYWxlcnNoaXBSb3V0ZXIucG9zdCgnL2RlYWxzJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlYWxDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZGVhbHMnKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3RGVhbCA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICByZXR1cm4gZGVhbENvbGxlY3Rpb24uaW5zZXJ0T25lKG5ld0RlYWwpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdEZWFsIGFkZGVkIHN1Y2Nlc3NmdWxseScgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBkZWFsOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkJyB9KTtcclxuICAgICAgICB9KTtcclxufSk7XHJcblxyXG4vLyB2aWV3IGFsbCB0aGUgdmVoaWNsZXMgLGRlYWxlcnNoaXAgaGFzIHNvbGRcclxuZGVhbGVyc2hpcFJvdXRlci5nZXQoJy9hbGwtdmVoaWNsZXMnLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc29sZFZlaGljbGVzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ3NvbGRfdmVoaWNsZXMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNvbGRWZWhpY2xlc0NvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChzb2xkdmVoaWNsZXMpID0+IHtcclxuICAgICAgICAgICAgcmVzLmpzb24oc29sZHZlaGljbGVzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc29sZCB2ZWhpY2xlczonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCcgfSk7XHJcbiAgICAgICAgfSlcclxufSlcclxuXHJcbi8vIGFkZCBuZXcgdmVoaWNsZSB0byB0aGUgbGlzdCBvZiBzb2xkIHZlaGljbGVzIGFmdGVyIGRlYWxlcnNoaXAgaXMgbWFkZVxyXG5kZWFsZXJzaGlwUm91dGVyLnBvc3QoJy9zb2xkLXZlaGljbGVzJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25uZWN0VG9EYXRhYmFzZSgpXHJcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvbGRWZWhpY2xlc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdzb2xkX3ZlaGljbGVzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1NvbGRWZWhpY2xlID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIHJldHVybiBzb2xkVmVoaWNsZXNDb2xsZWN0aW9uLmluc2VydE9uZShuZXdTb2xkVmVoaWNsZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1NvbGQgdmVoaWNsZSBhZGRlZCBzdWNjZXNzZnVsbHknIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgc29sZCB2ZWhpY2xlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkJyB9KTtcclxuICAgICAgICB9KTtcclxufSk7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGVhbGVyc2hpcFJvdXRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBRixPQUFBO0FBRUEsSUFBQUcsT0FBQSxHQUFBQyxzQkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQUssYUFBQSxHQUFBRCxzQkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQU0sT0FBQSxHQUFBTixPQUFBO0FB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","map":{"version":3,"names":["_express","_interopRequireWildcard","require","_mongodb","_bson","_bcrypt","_interopRequireDefault","_jsonwebtoken","_config","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","dealershipRouter","Router","post","req","res","email","dealership_name","dealership_location","password","dealership_info","carsId","dealsId","sold_vehiclesId","body","connectToDatabase","then","db","dealershipCollection","collection","findOne","dealership_email","existingDealer","Error","bcrypt","hash","hashedPassword","newDealer","cars","deals","sold_vehicles","insertOne","status","json","message","catch","error","console","next","token","header","replace","jwt","verify","jwtSecret","decoded","_id","dealer","carsCollection","find","toArray","log","soldVehiclesCollection","soldCars","newCar","dealCollection","apply","newDeal","soldvehicles","newSoldVehicle","_default","exports"],"sourceRoot":"C:\\Users\\RISHU\\delivery_app\\backend\\router\\","sources":["dealership.js"],"sourcesContent":["import express, { Router } from 'express';\r\nimport { connectToDatabase } from '../db/mongodb';\r\nimport { ObjectId } from 'bson';\r\nconst dealershipRouter = Router();\r\nimport bcrypt from 'bcrypt';\r\nimport jwt from 'jsonwebtoken';\r\nimport { jwtSecret, jwtExpiration } from '../config';\r\n\r\ndealershipRouter.post('/registerdealership', (req, res) => {\r\n    const { email, dealership_name, dealership_location, password, dealership_info, carsId, dealsId, sold_vehiclesId } = req.body;\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealershipCollection = db.collection('dealership');\r\n\r\n            // Check if the dealership already exists\r\n            return dealershipCollection.findOne({ dealership_email: email })\r\n                .then((existingDealer) => {\r\n                    if (existingDealer) {\r\n                        throw new Error('Dealer already exists');\r\n                    }\r\n\r\n                    // Hash the password\r\n                    return bcrypt.hash(password, 10);\r\n                })\r\n                .then((hashedPassword) => {\r\n                    const newDealer = {\r\n                        dealership_email: email,\r\n                        dealership_name: dealership_name,\r\n                        dealership_location: dealership_location,\r\n                        password: hashedPassword,\r\n                        dealership_info: dealership_info,\r\n                        cars: carsId,\r\n                        deals: dealsId,\r\n                        sold_vehicles: sold_vehiclesId\r\n                    };\r\n\r\n                    // Insert the new dealership into the database\r\n                    return dealershipCollection.insertOne(newDealer);\r\n                })\r\n                .then(() => {\r\n                    res.status(201).json({ message: 'Dealer registered successfully' });\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error registering dealer:', error);\r\n                    res.status(500).json({ error: 'An error occurred' });\r\n                })\r\n        })\r\n})\r\n\r\ndealershipRouter.get('/dealership/login', (req, res, next) => {\r\n\r\n    const token = req.header('Authorization').replace('Bearer ', '');\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealershipCollection = db.collection('dealership');\r\n\r\n            // Verify the token\r\n            return jwt.verify(token, jwtSecret)\r\n                .then((decoded) => {\r\n                    return dealershipCollection.findOne({ _id: decoded._id, 'tokens.token': token });\r\n                })\r\n                .then((dealer) => {\r\n                    if (!dealer) {\r\n                        throw new Error();\r\n                    }\r\n\r\n                    req.token = token;\r\n                    req.dealer = dealer;\r\n\r\n                    next();\r\n                })\r\n                .catch(() => {\r\n                    res.status(401).json({ error: 'Please authenticate' });\r\n                })\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error connecting to database:', error);\r\n            res.status(500).json({ error: 'An error occurred' });\r\n        })\r\n})\r\n\r\n\r\n\r\n\r\n// view all  cars\r\ndealershipRouter.get('/dealerships', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const carsCollection = db.collection('cars');\r\n            return carsCollection.find().toArray();\r\n        })\r\n        .then((cars) => {\r\n            res.json(cars);\r\n        })\r\n        .catch((error) => {\r\n            console.log('Error in retrieving cars', error);\r\n            res.status(500).json({ error: 'Internal Server Error' });\r\n        });\r\n});\r\n\r\n// view all the cars sold by dealership\r\ndealershipRouter.get('/sold-cars', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const soldVehiclesCollection = db.collection('sold_vehicles');\r\n            return soldVehiclesCollection.find().toArray()\r\n        })\r\n        .then((soldCars) => {\r\n            res.json(soldCars)\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error fetching sold cars:', error);\r\n            res.status(500).json({ error: 'An error occurred' });\r\n        })\r\n})\r\n\r\n// add cars to dealership\r\ndealershipRouter.post('/cars', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const carsCollection = db.collection('cars');\r\n            const newCar = req.body;\r\n            return carsCollection.insertOne(newCar);\r\n        })\r\n        .then(() => {\r\n            res.json({ message: 'Car added successfully' });\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error adding car:', error);\r\n            res.status(500).json({ error: 'An error occurred' });\r\n        });\r\n});\r\n\r\n// view deals provided by the dealership\r\ndealershipRouter.get('/view-deals', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealCollection = db.collection('deals');\r\n            return dealCollection.find().toArray();\r\n        })\r\n        .then((deals) => {\r\n            res.json(deals)\r\n        })\r\n        .catch((error) => {\r\n            console.log('Error in viewing cars:', error)\r\n            res.status.apply(500).json({ error: \"An error occurred\" })\r\n        })\r\n})\r\n\r\n// add deals to dealership\r\ndealershipRouter.post('/deals', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const dealCollection = db.collection('deals');\r\n            const newDeal = req.body;\r\n            return dealCollection.insertOne(newDeal);\r\n        })\r\n        .then(() => {\r\n            res.json({ message: 'Deal added successfully' });\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error adding deal:', error);\r\n            res.status(500).json({ error: 'An error occurred' });\r\n        });\r\n});\r\n\r\n// view all the vehicles ,dealership has sold\r\ndealershipRouter.get('/all-vehicles', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const soldVehiclesCollection = db.collection('sold_vehicles');\r\n            return soldVehiclesCollection.find().toArray();\r\n        })\r\n        .then((soldvehicles) => {\r\n            res.json(soldvehicles);\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error fetching sold vehicles:', error);\r\n            res.status(500).json({ error: 'An error occurred' });\r\n        })\r\n})\r\n\r\n// add new vehicle to the list of sold vehicles after dealership is made\r\ndealershipRouter.post('/sold-vehicles', (req, res) => {\r\n    connectToDatabase()\r\n        .then((db) => {\r\n            const soldVehiclesCollection = db.collection('sold_vehicles');\r\n            const newSoldVehicle = req.body;\r\n            return soldVehiclesCollection.insertOne(newSoldVehicle);\r\n        })\r\n        .then(() => {\r\n            res.json({ message: 'Sold vehicle added successfully' });\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error adding sold vehicle:', error);\r\n            res.status(500).json({ error: 'An error occurred' });\r\n        });\r\n});\r\n\r\n\r\nexport default dealershipRouter"],"mappings":"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"}},"mtime":1689003830539}}